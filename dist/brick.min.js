Ember.Application.initializer({name:"AlertsAdapter",after:["ApplicationAdapter"],initialize:function(e,t){var i=e.lookupFactory("adapter:application"),r=i.extend({findQuery:function(e,t){var i="/alerts/get-alarms";return this.ajax(i,"GET",{data:t})}});t.register("adapter:alerts",r)}}),Ember.Application.initializer({name:"AlertsSerializer",after:["ApplicationSerializer"],initialize:function(e,t){var i=e.lookupFactory("serializer:application"),r=i.extend({});t.register("serializer:alerts",r)}}),Ember.Application.initializer({name:"AlarmsWidget",after:["TimeWindowUtils","DataUtils","WidgetFactory","AlarmsView","UserconfigurationMixin","SchemasLoader"],initialize:function(e,t){var i=e.lookupFactory("utility:timewindow"),r=e.lookupFactory("utility:data"),a=e.lookupFactory("factory:widget"),n=e.lookupFactory("view:alarms"),o=e.lookupFactory("mixin:userconfiguration"),s=Ember.get,m=Ember.set,l=Ember.isNone,d={mixins:[o]},p=a("alarms",{viewMixins:[n],init:function(){this._super.apply(this,arguments),m(this,"store",DS.Store.extend({container:s(this,"container")}))},refreshContent:function(){},setParams:function(){var e=this,t=i.getFromTo(s(e,"time_window"),s(e,"time_window_offset")),r=t[0],a=t[1],n=s(e,"from"),o=s(e,"to");l(n)||(r=n),l(o)||(a=o);var d={timewindow:{from:parseInt(r/1e3),to:parseInt(a/1e3)},title:s(e,"model.title"),domain:s(e,"model.domain"),perimeter:s(e,"model.perimeter"),user:s(e,"model.user"),show_events:s(e,"model.show_events"),show_users:s(e,"model.show_users")};m(e,"widgetParams",d),s(e,"model.show_events")&&e.fetchEvents(),s(e,"model.show_users")&&e.fetchUser()},fetchEvents:function(){var e=this,t={domain:s(e,"widgetParams.domain"),perimeter:s(e,"widgetParams.perimeter")},i=JSON.stringify(t),a={tstart:s(e,"widgetParams.timewindow.from"),tstop:s(e,"widgetParams.timewindow.to"),tags:i},n=r.getEmberApplicationSingleton().__container__.lookup("adapter:statstableevents");n.findQuery("statstableevents",a).then(function(t){var i=s(t,"data");m(e,"statsevent",i[0]),e.trigger("disableLoading")},function(e){console.error("ERROR in the adapter: ",e)})},fetchUser:function(){var e=this,t={domain:s(e,"widgetParams.domain"),perimeter:s(e,"widgetParams.perimeter")},i=JSON.stringify(t),a={tstart:s(e,"widgetParams.timewindow.from"),tstop:s(e,"widgetParams.timewindow.to"),users:s(e,"widgetParams.user"),tags:i},n=r.getEmberApplicationSingleton().__container__.lookup("adapter:statstableuser");n.findQuery("statstableuser",a).then(function(t){var i=s(t,"data");m(e,"statsuser",i),e.trigger("disableLoading")},function(e){console.error("ERROR in the adapter: ",e)})}},d);t.register("widget:alarms",p)}}),Ember.Application.initializer({name:"AlarmsView",initialize:function(e,t){var i=(Ember.get,Ember.set,Ember.isNone,Ember.Mixin.create({didInsertElement:function(){},willDestroyElement:function(){}}));t.register("view:alarms",i)}});
//# sourceMappingURL=dist/brick.map.js