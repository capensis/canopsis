<script type="text/x-handlebars" data-template-name="components/component-alarmraw">{{#each field in fields}}
    {{#component-alarmtd alarm=alarm field=field action='tdClick'}}
    {{/component-alarmtd}}
{{/each}}  </script>
<script type="text/x-handlebars" data-template-name="components/component-alarmstate"><div class="form-group">
    <div class="radio">
        <label>
            {{view Ember.RadioButton name="alarmStateSelecation" selectionBinding="state" value="opened"}}
            opened
        </label>
    </div>
    <div class="radio">
        <label>
            {{view Ember.RadioButton name="alarmStateSelecation" selectionBinding="state" value="resolved"}}
            resolved
        </label>
    </div>
</div></script>
<script type="text/x-handlebars" data-template-name="components/component-alarmtable">{{#each tmpl in Ember.columnTemplates}}
  {{#component-popupinfo columnName=tmpl.columnName clickedField=clickedField clickedAlarm=clickedAlarm updater=updater}}
  {{/component-popupinfo}}
{{/each}}

<div class="box-body">
    <div class="table-responsive">
        <table class="table no-margin">
            <thead>
                <tr>
                    {{#each field in fields}}
                        {{#if field.isSortable}}
                            <th {{action 'click' field}}>{{field.humanName}} <i {{bind-attr class=":fa field.isASC:fa-caret-down:fa-caret-up"}} aria-hidden="true"></i></th>
                        {{else}}
                            <th {{action 'click' field}}>{{field.humanName}}</th>                    
                        {{/if}}
                    {{/each}}
                </tr>
            </thead>
            <tbody>
                {{#each alarm in sAlarms}}
                
                    {{#component-alarmraw alarm=alarm fields=controller.fields action='tdClick'}}
                    {{/component-alarmraw}}

                {{/each}}
            </tbody>
        </table>
    </div>
</div>
</script>
<script type="text/x-handlebars" data-template-name="components/component-alarmtd">{{#if hasRenderer}}
  {{component-renderer rendererType=renderer value=value}}
{{else}}
  {{value}}
{{/if}}</script>
<script type="text/x-handlebars" data-template-name="components/component-columntemplate"><div class="form-inline">
    <div class="form-group">
        Column name: {{input value=column class="form-control" type="text"}}
    </div>
    <div class="form-group">
        Template: {{summernote-editor content=template}}
    </div>
</div></script>
<script type="text/x-handlebars" data-template-name="components/component-popupinfo"><div style="position: absolute; left: 50%;display:none;" class="popupinfo">
    <div style="position: relative; left: -50%;">
        <div class="text-center alert alert-info alert-dismissable">
            <i class="fa fa-info"></i>
            <button {{action 'hide'}} type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
            <div class="recordinfopopuphandle">
                <b>info</b><hr/>
            </div>
            <div class="recordinfopopupcontent">
                {{view columnTemplate contextBinding=clickedAlarm}}
            </div>
        </div>
    </div>       
</div>
</script>
<script type="text/x-handlebars" data-template-name="components/component-rendererack">t:{{value.t}}
a:{{value.a}}</script>
<script type="text/x-handlebars" data-template-name="components/component-rendererstate"><span {{bind-attr class=spanClass}}>{{caption}}</span></script>
<script type="text/x-handlebars" data-template-name="components/component-rendererstatetimestamp">{{timeSince timestamp}}</script>
<script type="text/x-handlebars" data-template-name="components/component-rendererstatusval">{{status}}</script>
<script type="text/x-handlebars" data-template-name="components/component-search"><div class="input-group input-group-sm col-xs-3">
      {{input insert-newline='search' value=value class="form-control inlineInput" placeholder="Search" type="text"}}
      <span class="input-group-btn">
          <button {{action 'resetValue'}} class="btn btn-default btn-flat">
              <span class="glyphicon glyphicon-remove-circle"></span>
          </button>
          <button {{action 'search'}} class="btn btn-primary btn-flat">
              <span class="fa fa-search"></span>
          </button>
      </span>
</div>
{{#unless isValid}}
  <p>Invalid search query</p>
{{/unless}}</script>
<script type="text/x-handlebars" data-template-name="editor-pair">{{!*
 * @editor pair
}}
{{component-columntemplate content=attr.value}}</script>
<script type="text/x-handlebars" data-template-name="editor-radio">{{!*
 * @editor radio
}}
{{component-alarmstate content=attr.value}}</script>
<script type="text/x-handlebars" data-template-name="_v_ack">{{#component-rendererack value=value}}
{{/component-rendererack}}</script>
<script type="text/x-handlebars" data-template-name="_v_state_t">{{#component-rendererstatetimestamp value=value}}
{{/component-rendererstatetimestamp}}</script>
<script type="text/x-handlebars" data-template-name="_v_state_val">{{#component-rendererstate value=value}}
{{/component-rendererstate}}</script>
<script type="text/x-handlebars" data-template-name="_v_status_val">{{#component-rendererstatusval value=value}}
{{/component-rendererstatusval}}</script>
<script type="text/x-handlebars" data-template-name="listalarm">{{#component-search action='search' value=controller.searchText isValid=controller.isValidSearchText}}
{{/component-search}}

{{#component-alarmtable action='updateSortField' defaultSortColumn=controller.sortColumn sortOrder=controller.default_sort_column.direction alarms=controller.alarms fields=controller.fields}}
{{/component-alarmtable}}</script>
