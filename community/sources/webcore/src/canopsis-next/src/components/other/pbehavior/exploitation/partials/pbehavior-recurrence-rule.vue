<template lang="pug">
  v-card
    v-card-text
      v-layout(row)
        v-flex(xs6)
          v-layout(row)
            v-flex(xs2)
              strong {{ $t('recurrenceRule.stringLabel') }}
            v-flex(xs10)
              p.recurrence-rule-paragraph {{ recurrenceRuleString }}
          v-layout(row)
            v-flex(xs2)
              strong {{ $t('recurrenceRule.textLabel') }}
            v-flex(xs10)
              p.recurrence-rule-paragraph {{ recurrenceRuleText }}
        v-flex(xs6)
          pbehavior-recurrence-rule-periods(:pbehavior="pbehavior")
</template>

<script>
import { rrulestr } from 'rrule';

import PbehaviorRecurrenceRulePeriods from './pbehavior-recurrence-rule-periods.vue';

export default {
  components: { PbehaviorRecurrenceRulePeriods },
  props: {
    pbehavior: {
      type: Object,
      required: true,
    },
  },
  computed: {
    recurrenceRule() {
      return rrulestr(this.pbehavior.rrule);
    },

    recurrenceRuleString() {
      return this.recurrenceRule.toString();
    },

    recurrenceRuleText() {
      return this.recurrenceRule.toText();
    },
  },
};
</script>

<style scoped>
  .recurrence-rule-paragraph {
    word-wrap: break-word;
  }
</style>
