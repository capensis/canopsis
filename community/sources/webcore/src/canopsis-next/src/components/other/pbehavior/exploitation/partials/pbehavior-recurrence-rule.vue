<template lang="pug">
  v-card
    v-card-text
      v-layout(row)
        v-flex(offset-xs3, xs6)
          c-information-block-row(:label="$t('common.recurrence')")
            span.c-word-break-all {{ recurrenceRuleString }}
          c-information-block-row(:label="$t('common.summary')")
            span.c-word-wrap-break {{ recurrenceRuleText }}
          pbehavior-recurrence-rule-periods.mt-2(:pbehavior="pbehavior")
</template>

<script>
import { rrulestr } from 'rrule';

import PbehaviorRecurrenceRulePeriods from './pbehavior-recurrence-rule-periods.vue';

export default {
  components: { PbehaviorRecurrenceRulePeriods },
  props: {
    pbehavior: {
      type: Object,
      required: true,
    },
  },
  computed: {
    recurrenceRule() {
      return rrulestr(this.pbehavior.rrule);
    },

    recurrenceRuleString() {
      return this.recurrenceRule.toString();
    },

    recurrenceRuleText() {
      return this.recurrenceRule.toText();
    },
  },
};
</script>
