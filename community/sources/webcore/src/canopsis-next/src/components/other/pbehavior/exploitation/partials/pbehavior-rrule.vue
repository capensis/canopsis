<template lang="pug">
  v-card
    v-card-text
      v-layout(row)
        v-flex(xs6)
          v-layout(row)
            v-flex(xs2)
              strong {{ $t('rRule.stringLabel') }}
            v-flex(xs10)
              p.rrule-paragraph {{ rRuleString }}
          v-layout(row)
            v-flex(xs2)
              strong {{ $t('rRule.textLabel') }}
            v-flex(xs10)
              p.rrule-paragraph {{ rRuleText }}
        v-flex(xs6)
          pbehavior-rrule-periods(:pbehavior="pbehavior")
</template>

<script>
import { rrulestr } from 'rrule';

import PbehaviorRrulePeriods from './pbehavior-rrule-periods.vue';

export default {
  components: { PbehaviorRrulePeriods },
  props: {
    pbehavior: {
      type: Object,
      required: true,
    },
  },
  computed: {
    rRule() {
      return rrulestr(this.pbehavior.rrule);
    },

    rRuleString() {
      return this.rRule.toString();
    },

    rRuleText() {
      return this.rRule.toText();
    },
  },
};
</script>

<style scoped>
  .rrule-paragraph {
    word-wrap: break-word;
  }
</style>
