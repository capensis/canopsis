template:
  - &view_group {
    _id: <UUID()>,
    created: <NowUnix()>,
    updated: <Current().created>,
    position: <Index()>,
    author: root
  }
  - &view {
    _id: <UUID()>,
    created: <NowUnix()>,
    updated: <Current().created>,
    position: <Index()>,
    enabled: true,
    author: root
  }
  - &tab {
    _id: <UUID()>,
    created: <NowUnix()>,
    updated: <Current().created>,
    position: 0,
    author: root
  }
  - &widget {
    _id: <UUID()>,
    created: <NowUnix()>,
    updated: <Current().created>,
    author: root
  }
  - &widget_alarm_columns [
    { value: v.connector },
    { value: v.connector_name },
    { value: v.component },
    { value: v.resource },
    { value: v.output },
    { value: extra_details },
    { value: v.state.val },
    { value: v.status.val }
  ]
  - &widget_entity_columns [
    { value: name },
    { value: type }
  ]
  - &widget_tpl {
    _id: <UUID()>,
    created: <NowUnix()>,
    updated: <Current().created>,
    author: root
  }
  - &filter {
    _id: <UUID()>,
    is_private: false,
    created: <NowUnix()>,
    updated: <Current().created>,
    author: root,
    position: 0
  }
  - &permission {
    _id: <UUID()>,
    name: <Current()._id>
  }
  - &permission_crud {
    <<: *permission,
    type: CRUD
  }
  - &permission_rw {
    <<: *permission,
    type: RW
  }
  - &role {
    _id: <UUID()>
  }
  - &user {
    _id: <UUID()>,
    authkey: <UUID()>,
    enable: true
  }

viewgroups:
  view_group_alarms:
    <<: *view_group
    title: Alarmes

  view_group_admin:
    <<: *view_group
    title: Widgets Administratifs

views:
  view_open_alarms:
    <<: *view
    title: En cours
    description: Alarmes en cours
    group_id: "@view_group_alarms"
    tags:
      - alarmes

  view_resolved_alarms:
    <<: *view
    title: Résolues
    description: Alarmes résolues
    group_id: "@view_group_alarms"
    tags:
      - alarmes

  view_context_explorer:
    <<: *view
    title: Explorateur de Contexte
    description: Explorateur de Contexte
    group_id: "@view_group_admin"
    tags:
      - contexte

viewtabs:
  tab_open_alarms:
    <<: *tab
    title: En cours
    view: "@view_open_alarms"
    position: 0

  tab_resolved_alarms:
    <<: *tab
    title: Résolues
    view: "@view_resolved_alarms"
    position: 0

  tab_context_explorer:
    <<: *tab
    title: Explorateur de contexte
    view: "@view_context_explorer"
    position: 0

widget_templates:
  tpl_alarm_columns:
    <<: *widget_tpl
    title: Default columns
    type: alarm_columns
    columns: *widget_alarm_columns
  tpl_entity_columns:
    <<: *widget_tpl
    title: Default columns
    type: entity_columns
    columns: *widget_entity_columns
  tpl_weather_item:
    <<: *widget_tpl
    title: Default item
    type: weather_item
    content: |
      <p><strong><span style="font-size: 18px;">{{entity.name}}</span></strong></p>
      <hr id="null">
      <p>{{ entity.output }}</p>
      <p> Dernière mise à jour : {{ timestamp entity.last_update_date }}</p>
  tpl_weather_modal:
    <<: *widget_tpl
    title: Default modal
    type: weather_modal
    content: "{{ entities name=\"entity._id\" }}"
  tpl_weather_entity:
    <<: *widget_tpl
    title: Default entity
    type: weather_entity
    content: |
      <ul>
        <li><strong>Libellé</strong> : {{entity.name}}</li>
      </ul>

widgets:
  widget_open_alarms:
    <<: *widget
    title: En cours
    type: AlarmsList
    tab: "@tab_open_alarms"
    parameters:
      widgetColumnsTemplate: "@tpl_alarm_columns"
      widgetColumnsTemplateTitle: Default columns
      widgetColumns: *widget_alarm_columns
      sort:
        order: ASC
      itemsPerPage: 10
      infoPopups: [ ]
      opened: true
      moreInfoTemplate:
      periodic_refresh:
        value: 1
        unit: m
        enabled: false
    grid_parameters:
      mobile:
        x: 0
        "y": 0
        w: 3
        h: 1
        autoHeight: true
      tablet:
        x: 0
        "y": 0
        w: 3
        h: 1
        autoHeight: true
      desktop:
        x: 0
        "y": 0
        w: 12
        h: 1
        autoHeight: true

  widget_resolved_alarms:
    <<: *widget
    title: Résolues
    type: AlarmsList
    tab: "@tab_resolved_alarms"
    parameters:
      widgetColumnsTemplate: "@tpl_alarm_columns"
      widgetColumnsTemplateTitle: Default columns
      widgetColumns: *widget_alarm_columns
      sort:
        order: ASC
      itemsPerPage: 10
      infoPopups: [ ]
      opened: false
      moreInfoTemplate:
      periodic_refresh:
        value: 1
        unit: m
        enabled: false
    grid_parameters:
      mobile:
        x: 0
        "y": 0
        w: 3
        h: 1
        autoHeight: true
      tablet:
        x: 0
        "y": 0
        w: 3
        h: 1
        autoHeight: true
      desktop:
        x: 0
        "y": 0
        w: 12
        h: 39
        autoHeight: true

  widget_context_explorer:
    <<: *widget
    title: Explorateur de Contexte
    type: Context
    tab: "@tab_context_explorer"
    parameters:
      widgetColumnsTemplate: "@tpl_entity_columns"
      widgetColumnsTemplateTitle: Default columns
      widgetColumns: *widget_entity_columns
      serviceDependenciesColumnsTemplate: "@tpl_entity_columns"
      serviceDependenciesColumnsTemplateTitle: Default columns
      serviceDependenciesColumns: *widget_entity_columns
      sort:
        order: ASC
      itemsPerPage: 10
      selectedTypes: [ ]
    grid_parameters:
      mobile:
        x: 0
        "y": 0
        w: 3
        h: 1
        autoHeight: true
      tablet:
        x: 0
        "y": 0
        w: 3
        h: 1
        autoHeight: true
      desktop:
        x: 0
        "y": 0
        w: 12
        h: 1
        autoHeight: true

widget_filters:
  filter_context_explorer_component:
    <<: *filter
    title: Composant
    widget: "@widget_context_explorer"
    position: 0
    entity_pattern:
      - - field: type
          cond:
            type: eq
            value: component

  filter_context_explorer_connector:
    <<: *filter
    title: Connecteur
    widget: "@widget_context_explorer"
    position: 1
    entity_pattern:
      - - field: type
          cond:
            type: eq
            value: connector

  filter_context_explorer_resource:
    <<: *filter
    title: Ressource
    widget: "@widget_context_explorer"
    position: 2
    entity_pattern:
      - - field: type
          cond:
            type: eq
            value: resource

  filter_context_explorer_service:
    <<: *filter
    title: Observateur
    widget: "@widget_context_explorer"
    position: 3
    entity_pattern:
      - - field: type
          cond:
            type: eq
            value: service

permission:
  # UI permissions
  permission_models_userview:
    <<: *permission_crud
    _id: models_userview
    name: <Current()._id>
    description: Userviews
  permission_models_role:
    <<: *permission_crud
    _id: models_role
    name: <Current()._id>
    description: Roles
  permission_models_permission:
    <<: *permission_crud
    _id: models_permission
    name: <Current()._id>
    description: Rights
  permission_models_user:
    <<: *permission_crud
    _id: models_user
    name: <Current()._id>
    description: Users
  permission_models_parameters:
    <<: *permission_rw
    _id: models_parameters
    name: <Current()._id>
    description: Parameters
  permission_models_broadcastMessage:
    <<: *permission_crud
    _id: models_broadcastMessage
    name: <Current()._id>
    description: Broadcast Messages
  permission_models_playlist:
    <<: *permission_crud
    _id: models_playlist
    name: <Current()._id>
    description: Playlists
  permission_models_planning:
    <<: *permission_crud
    _id: models_planning
    name: <Current()._id>
    description: Planning
  permission_models_planningType:
    <<: *permission_crud
    _id: models_planningType
    name: <Current()._id>
    description: Planning type
  permission_models_planningReason:
    <<: *permission_crud
    _id: models_planningReason
    name: <Current()._id>
    description: Planning reason
  permission_models_planningExceptions:
    <<: *permission_crud
    _id: models_planningExceptions
    name: <Current()._id>
    description: Planning dates of exceptions
  permission_models_remediation:
    <<: *permission_crud
    _id: models_remediation
    name: <Current()._id>
    description: Remediation
  permission_models_remediationInstruction:
    <<: *permission_crud
    _id: models_remediationInstruction
    name: <Current()._id>
    description: Remediation instruction
  permission_models_remediationJob:
    <<: *permission_crud
    _id: models_remediationJob
    name: <Current()._id>
    description: Remediation job
  permission_models_remediationConfiguration:
    <<: *permission_crud
    _id: models_remediationConfiguration
    name: <Current()._id>
    description: Remediation configuration
  permission_models_engine:
    <<: *permission
    _id: models_engine
    name: <Current()._id>
    description: Engines
  permission_models_exploitation_eventFilter:
    <<: *permission_crud
    _id: models_exploitation_eventFilter
    name: <Current()._id>
    description: "Exploitation: Event filter"
  permission_models_exploitation_pbehavior:
    <<: *permission_crud
    _id: models_exploitation_pbehavior
    name: <Current()._id>
    description: "Exploitation: Pbehavior"
  permission_models_exploitation_snmpRule:
    <<: *permission_crud
    _id: models_exploitation_snmpRule
    name: <Current()._id>
    description: "Exploitation: Snmp rule"
  permission_models_exploitation_dynamicInfo:
    <<: *permission_crud
    _id: models_exploitation_dynamicInfo
    name: <Current()._id>
    description: "Exploitation: Dynamic information rule"
  permission_models_exploitation_metaAlarmRule:
    <<: *permission_crud
    _id: models_exploitation_metaAlarmRule
    name: <Current()._id>
    description: "Exploitation: Meta alarm rule"
  permission_models_exploitation_scenario:
    <<: *permission_crud
    _id: models_exploitation_scenario
    name: <Current()._id>
    description: "Exploitation: Scenario"
  permission_models_exploitation_idleRules:
    <<: *permission_crud
    _id: models_exploitation_idleRules
    name: <Current()._id>
    description: "Exploitation: Idle rule"
  permission_models_exploitation_flappingRules:
    <<: *permission_crud
    _id: models_exploitation_flappingRules
    name: <Current()._id>
    description: "Exploitation: Flapping rule"
  permission_models_exploitation_resolveRules:
    <<: *permission_crud
    _id: models_exploitation_resolveRules
    name: <Current()._id>
    description: "Exploitation: Resolve rule"
  permission_models_exploitation_declareTicketRule:
    <<: *permission_crud
    _id: models_exploitation_declareTicketRule
    name: <Current()._id>
    description: "Exploitation: Declare ticket rule"
  permission_models_exploitation_linkRule:
    <<: *permission_crud
    _id: models_exploitation_linkRule
    name: <Current()._id>
    description: "Exploitation: Link rule"
  permission_models_healthcheck:
    <<: *permission
    _id: models_healthcheck
    name: <Current()._id>
    description: Healthcheck
  permission_models_healthcheckStatus:
    <<: *permission
    _id: models_healthcheckStatus
    name: <Current()._id>
    description: Healthcheck status
  permission_models_kpi:
    <<: *permission
    _id: models_kpi
    name: <Current()._id>
    description: KPI
  permission_models_kpiFilters:
    <<: *permission_crud
    _id: models_kpiFilters
    name: <Current()._id>
    description: KPI Filters
  permission_models_kpiRatingSettings:
    <<: *permission_crud
    _id: models_kpiRatingSettings
    name: <Current()._id>
    description: KPI Rating settings
  permission_models_notification_instructionStats:
    <<: *permission_crud
    _id: models_notification_instructionStats
    name: <Current()._id>
    description: "Notifications: Instructions stats"
  permission_models_profile_corporatePattern:
    <<: *permission_crud
    _id: models_profile_corporatePattern
    name: <Current()._id>
    description: "Profile: Corporate patterns"
  permission_models_map:
    <<: *permission_crud
    _id: models_map
    name: <Current()._id>
    description: Map
  permission_models_shareToken:
    <<: *permission_crud
    _id: models_shareToken
    name: <Current()._id>
    description: "Share token"
  permission_models_techmetrics:
    <<: *permission
    _id: models_techmetrics
    name: <Current()._id>
    description: "Tech metrics"
  permission_models_widgetTemplate:
    <<: *permission_crud
    _id: models_widgetTemplate
    name: <Current()._id>
    description: "Widget templates"
  permission_listalarm_ack:
    <<: *permission
    _id: listalarm_ack
    name: <Current()._id>
    description: "Rights on listalarm: ack"
  permission_listalarm_fastAck:
    <<: *permission
    _id: listalarm_fastAck
    name: <Current()._id>
    description: "Rights on listalarm: fast ack"
  permission_listalarm_cancelAck:
    <<: *permission
    _id: listalarm_cancelAck
    name: <Current()._id>
    description: "Rights on listalarm: cancel ack"
  permission_listalarm_pbehavior:
    <<: *permission
    _id: listalarm_pbehavior
    name: <Current()._id>
    description: "Rights on listalarm: pbehavior"
  permission_listalarm_snoozeAlarm:
    <<: *permission
    _id: listalarm_snoozeAlarm
    name: <Current()._id>
    description: "Rights on listalarm: snooze alarm"
  permission_listalarm_listPbehavior:
    <<: *permission
    _id: listalarm_listPbehavior
    name: <Current()._id>
    description: "Rights on listalarm: list pbehavior"
  permission_listalarm_declareanIncident:
    <<: *permission
    _id: listalarm_declareanIncident
    name: <Current()._id>
    description: "Rights on listalarm: declare an incident"
  permission_listalarm_assignTicketNumber:
    <<: *permission
    _id: listalarm_assignTicketNumber
    name: <Current()._id>
    description: "Rights on listalarm: assign ticket number"
  permission_listalarm_removeAlarm:
    <<: *permission
    _id: listalarm_removeAlarm
    name: <Current()._id>
    description: "Rights on listalarm: remove alarm"
  permission_listalarm_fastRemoveAlarm:
    <<: *permission
    _id: listalarm_fastRemoveAlarm
    name: <Current()._id>
    description: "Rights on listalarm: fast remove alarm"
  permission_listalarm_changeState:
    <<: *permission
    _id: listalarm_changeState
    name: <Current()._id>
    description: "Rights on listalarm: change state"
  permission_listalarm_history:
    <<: *permission
    _id: listalarm_history
    name: <Current()._id>
    description: "Rights on listalarm: history"
  permission_listalarm_groupRequest:
    <<: *permission
    _id: listalarm_groupRequest
    name: <Current()._id>
    description: "Rights on listalarm: group request"
  permission_listalarm_manualMetaAlarmGroup:
    <<: *permission
    _id: listalarm_manualMetaAlarmGroup
    name: <Current()._id>
    description: "Rights on listalarm: Manual meta alarm actions"
  permission_listalarm_comment:
    <<: *permission
    _id: listalarm_comment
    name: <Current()._id>
    description: "Rights on listalarm: Access to 'Comment' action"
  permission_listalarm_listFilters:
    <<: *permission
    _id: listalarm_listFilters
    name: <Current()._id>
    description: "Rights on listalarm: list filters"
  permission_listalarm_editFilter:
    <<: *permission
    _id: listalarm_editFilter
    name: <Current()._id>
    description: "Rights on listalarm: edit filters"
  permission_listalarm_addFilter:
    <<: *permission
    _id: listalarm_addFilter
    name: <Current()._id>
    description: "Rights on listalarm: add filter"
  permission_listalarm_userFilter:
    <<: *permission
    _id: listalarm_userFilter
    name: <Current()._id>
    description: "Rights on listalarm: User filter"
  permission_listalarm_listRemediationInstructionsFilters:
    <<: *permission
    _id: listalarm_listRemediationInstructionsFilters
    name: <Current()._id>
    description: "Rights on listalarm: Access to 'Remediation instructions filters: list' action"
  permission_listalarm_editRemediationInstructionsFilter:
    <<: *permission
    _id: listalarm_editRemediationInstructionsFilter
    name: <Current()._id>
    description: "Rights on listalarm: Access to 'Remediation instructions filters: edit' action"
  permission_listalarm_addRemediationInstructionsFilter:
    <<: *permission
    _id: listalarm_addRemediationInstructionsFilter
    name: <Current()._id>
    description: "Rights on listalarm: Access to 'Remediation instructions filters: add' action"
  permission_listalarm_userRemediationInstructionsFilter:
    <<: *permission
    _id: listalarm_userRemediationInstructionsFilter
    name: <Current()._id>
    description: "Rights on listalarm: Access to 'Remediation instructions filters: user' action"
  permission_listalarm_links:
    <<: *permission
    _id: listalarm_links
    name: <Current()._id>
    description: "Rights on listalarm: Access to Links"
  permission_listalarm_correlation:
    <<: *permission
    _id: listalarm_correlation
    name: <Current()._id>
    description: "Rights on listalarm: Access to 'Correlation' action"
  permission_listalarm_executeInstruction:
    <<: *permission
    _id: listalarm_executeInstruction
    name: <Current()._id>
    description: "Rights on listalarm: Access to 'Execute instruction' action"
  permission_listalarm_category:
    <<: *permission
    _id: listalarm_category
    name: <Current()._id>
    description: "Rights on listalarm: Access to 'Category' action"
  permission_listalarm_exportAsCsv:
    <<: *permission
    _id: listalarm_exportAsCsv
    name: <Current()._id>
    description: "Rights on listalarm: Access to 'Export as csv' action"
  permission_serviceweather_entityAck:
    <<: *permission
    _id: serviceweather_entityAck
    name: <Current()._id>
    description: "Service weather: Access to 'Ack' action"
  permission_serviceweather_entityAssocTicket:
    <<: *permission
    _id: serviceweather_entityAssocTicket
    name: <Current()._id>
    description: "Service weather: Access to 'Assoc Ticket' action"
  permission_serviceweather_entityComment:
    <<: *permission
    _id: serviceweather_entityComment
    name: <Current()._id>
    description: "Service weather: Access to 'Comment' action"
  permission_serviceweather_entityValidate:
    <<: *permission
    _id: serviceweather_entityValidate
    name: <Current()._id>
    description: "Service weather: Access to 'Validate' action"
  permission_serviceweather_entityInvalidate:
    <<: *permission
    _id: serviceweather_entityInvalidate
    name: <Current()._id>
    description: "Service weather: Access to 'Invalidate' action"
  permission_serviceweather_entityPause:
    <<: *permission
    _id: serviceweather_entityPause
    name: <Current()._id>
    description: "Service weather: Access to 'Pause' action"
  permission_serviceweather_entityPlay:
    <<: *permission
    _id: serviceweather_entityPlay
    name: <Current()._id>
    description: "Service weather: Access to 'Play' action"
  permission_serviceweather_entityCancel:
    <<: *permission
    _id: serviceweather_entityCancel
    name: <Current()._id>
    description: "Service weather: Access to 'Cancel' action"
  permission_serviceweather_entityManagePbehaviors:
    <<: *permission
    _id: serviceweather_entityManagePbehaviors
    name: <Current()._id>
    description: "Service weather: Access to pbehaviors management"
  permission_serviceweather_entityLinks:
    <<: *permission
    _id: serviceweather_entityLinks
    name: <Current()._id>
    description: "Service weather: Access to Links"
  permission_serviceweather_moreInfos:
    <<: *permission
    _id: serviceweather_moreInfos
    name: <Current()._id>
    description: "Service weather: Access to 'More infos' modal"
  permission_serviceweather_alarmsList:
    <<: *permission
    _id: serviceweather_alarmsList
    name: <Current()._id>
    description: "Service weather: Access to 'Alarms list' modal"
  permission_serviceweather_pbehaviorList:
    <<: *permission
    _id: serviceweather_pbehaviorList
    name: <Current()._id>
    description: "Service weather: Access to watcher pbehavior list"
  permission_serviceweather_listFilters:
    <<: *permission
    _id: serviceweather_listFilters
    name: <Current()._id>
    description: "Rights on service weather: List filters"
  permission_serviceweather_editFilter:
    <<: *permission
    _id: serviceweather_editFilter
    name: <Current()._id>
    description: "Rights on service weather: Edit filters"
  permission_serviceweather_addFilter:
    <<: *permission
    _id: serviceweather_addFilter
    name: <Current()._id>
    description: "Rights on service weather: Add filter"
  permission_serviceweather_userFilter:
    <<: *permission
    _id: serviceweather_userFilter
    name: <Current()._id>
    description: "Rights on service weather: User filter"
  permission_serviceweather_category:
    <<: *permission
    _id: serviceweather_category
    name: <Current()._id>
    description: "Rights on service weather: Access to 'Category' action"
  permission_serviceweather_executeInstruction:
    <<: *permission
    _id: serviceweather_executeInstruction
    name: <Current()._id>
    description: "Service weather: Access to execute instruction"
  permission_crudcontext_createEntity:
    <<: *permission
    _id: crudcontext_createEntity
    name: <Current()._id>
    description: "Rights on context: create entity"
  permission_crudcontext_edit:
    <<: *permission
    _id: crudcontext_edit
    name: <Current()._id>
    description: "Rights on context: edit entity"
  permission_crudcontext_duplicate:
    <<: *permission
    _id: crudcontext_duplicate
    name: <Current()._id>
    description: "Rights on context: duplicate entity"
  permission_crudcontext_delete:
    <<: *permission
    _id: crudcontext_delete
    name: <Current()._id>
    description: "Rights on context: delete entity"
  permission_crudcontext_pbehavior:
    <<: *permission
    _id: crudcontext_pbehavior
    name: <Current()._id>
    description: "Rights on context: pbehavior"
  permission_crudcontext_listPbehavior:
    <<: *permission
    _id: crudcontext_listPbehavior
    name: <Current()._id>
    description: "Rights on context: List Pbehaviors"
  permission_crudcontext_deletePbehavior:
    <<: *permission
    _id: crudcontext_deletePbehavior
    name: <Current()._id>
    description: "Rights on context: Delete Pbehaviors"
  permission_crudcontext_listFilters:
    <<: *permission
    _id: crudcontext_listFilters
    name: <Current()._id>
    description: "Rights on context: List filters"
  permission_crudcontext_editFilter:
    <<: *permission
    _id: crudcontext_editFilter
    name: <Current()._id>
    description: "Rights on context: Edit filter"
  permission_crudcontext_addFilter:
    <<: *permission
    _id: crudcontext_addFilter
    name: <Current()._id>
    description: "Rights on context: Add filter"
  permission_crudcontext_userFilter:
    <<: *permission
    _id: crudcontext_userFilter
    name: <Current()._id>
    description: "Rights on context: User filter"
  permission_crudcontext_category:
    <<: *permission
    _id: crudcontext_category
    name: <Current()._id>
    description: "Rights on context: Access to 'Category' action"
  permission_crudcontext_exportAsCsv:
    <<: *permission
    _id: crudcontext_exportAsCsv
    name: <Current()._id>
    description: "Rights on context: Export as csv"
  permission_crudcontext_massEnable:
    <<: *permission
    _id: crudcontext_massEnable
    name: <Current()._id>
    description: "Rights on context: Mass enable"
  permission_crudcontext_massDisable:
    <<: *permission
    _id: crudcontext_massDisable
    name: <Current()._id>
    description: "Rights on context: Mass disable"
  permission_common_variablesHelp:
    <<: *permission
    _id: common_variablesHelp
    name: <Current()._id>
    description: Access to available variables list
  permission_counter_alarmsList:
    <<: *permission
    _id: counter_alarmsList
    name: <Current()._id>
    description: "Counter: Access to 'Alarms list' modal"
  permission_testingweather_alarmsList:
    <<: *permission
    _id: testingweather_alarmsList
    name: <Current()._id>
    description: "Testing weather: Access to 'Alarms list' modal"
  permission_map_alarmsList:
    <<: *permission
    _id: map_alarmsList
    name: <Current()._id>
    description: "Map: Access to 'Alarms list' modal"
  permission_map_listFilters:
    <<: *permission
    _id: map_listFilters
    name: <Current()._id>
    description: "Rights on map: List filters"
  permission_map_editFilter:
    <<: *permission
    _id: map_editFilter
    name: <Current()._id>
    description: "Rights on map: Edit filters"
  permission_map_addFilter:
    <<: *permission
    _id: map_addFilter
    name: <Current()._id>
    description: "Rights on map: Add filter"
  permission_map_userFilter:
    <<: *permission
    _id: map_userFilter
    name: <Current()._id>
    description: "Rights on map: User filter"
  permission_map_category:
    <<: *permission
    _id: map_category
    name: <Current()._id>
    description: "Rights on map: Access to 'Category' action"

  # API permissions
  permission_api_alarm_read:
    <<: *permission
    _id: api_alarm_read
    name: <Current()._id>
    description: Read alarms
  permission_api_alarm_update:
    <<: *permission
    _id: api_alarm_update
    name: <Current()._id>
    description: Update alarms
  permission_api_idlerule:
    <<: *permission_crud
    _id: api_idlerule
    name: <Current()._id>
    description: Idle rules
  permission_api_eventfilter:
    <<: *permission_crud
    _id: api_eventfilter
    name: <Current()._id>
    description: Event filters
  permission_api_action:
    <<: *permission_crud
    _id: api_action
    name: <Current()._id>
    description: Actions
  permission_api_metaalarmrule:
    <<: *permission_crud
    _id: api_metaalarmrule
    name: <Current()._id>
    description: Meta-alarm rules
  permission_api_playlist:
    <<: *permission_crud
    _id: api_playlist
    name: <Current()._id>
    description: Playlists
  permission_api_dynamicinfos:
    <<: *permission_crud
    _id: api_dynamicinfos
    name: <Current()._id>
    description: Dynamic infos
  permission_api_entityservice:
    <<: *permission_crud
    _id: api_entityservice
    name: <Current()._id>
    description: Entity service
  permission_api_entitycategory:
    <<: *permission_crud
    _id: api_entitycategory
    name: <Current()._id>
    description: Entity categories
  permission_api_viewgroup:
    <<: *permission_crud
    _id: api_viewgroup
    name: <Current()._id>
    description: View groups
  permission_api_view:
    <<: *permission_crud
    _id: api_view
    name: <Current()._id>
    description: Views
  api_widgettemplate:
    <<: *permission_crud
    _id: api_widgettemplate
    name: <Current()._id>
    description: Widget templates
  permission_api_pbehavior:
    <<: *permission_crud
    _id: api_pbehavior
    name: <Current()._id>
    description: PBehaviors
  permission_api_pbehaviortype:
    <<: *permission_crud
    _id: api_pbehaviortype
    name: <Current()._id>
    description: PBehaviorTypes
  permission_api_pbehaviorreason:
    <<: *permission_crud
    _id: api_pbehaviorreason
    name: <Current()._id>
    description: PBehaviorReasons
  permission_api_pbehaviorexception:
    <<: *permission_crud
    _id: api_pbehaviorexception
    name: <Current()._id>
    description: PBehaviorExceptions
  permission_api_event:
    <<: *permission
    _id: api_event
    name: <Current()._id>
    description: Event
  permission_api_healthcheck:
    <<: *permission
    _id: api_healthcheck
    name: <Current()._id>
    description: Healthcheck
  permission_api_message_rate_stats_read:
    <<: *permission
    _id: api_message_rate_stats_read
    name: <Current()._id>
    description: Message rate statistics
  permission_api_execution:
    <<: *permission
    _id: api_execution
    name: <Current()._id>
    description: Runs instructions
  permission_api_job_config:
    <<: *permission_crud
    _id: api_job_config
    name: <Current()._id>
    description: Job configs
  permission_api_job:
    <<: *permission_crud
    _id: api_job
    name: <Current()._id>
    description: Jobs
  permission_api_instruction:
    <<: *permission_crud
    _id: api_instruction
    name: <Current()._id>
    description: Instructions
  permission_api_file:
    <<: *permission_crud
    _id: api_file
    name: <Current()._id>
    description: File
  permission_api_entity:
    <<: *permission_crud
    _id: api_entity
    name: <Current()._id>
    description: Entity
  permission_api_contextgraph:
    <<: *permission_crud
    _id: api_contextgraph
    name: <Current()._id>
    description: Context graph import
  permission_api_acl:
    <<: *permission_crud
    _id: api_acl
    name: <Current()._id>
    description: Roles, permissions, users
  permission_api_state_settings:
    <<: *permission
    _id: api_state_settings
    name: <Current()._id>
    description: State settings
  permission_api_broadcast_message:
    <<: *permission_crud
    _id: api_broadcast_message
    name: <Current()._id>
    description: Broadcast Message
  permission_api_associative_table:
    <<: *permission_crud
    _id: api_associative_table
    name: <Current()._id>
    description: Associative table
  permission_api_user_interface_update:
    <<: *permission
    _id: api_user_interface_update
    name: <Current()._id>
    description: Update user interface
  permission_api_user_interface_delete:
    <<: *permission
    _id: api_user_interface_delete
    name: <Current()._id>
    description: Delete user interface
  permission_api_junit:
    <<: *permission_crud
    _id: api_junit
    name: <Current()._id>
    description: JUnit API
  permission_api_datastorage_read:
    <<: *permission
    _id: api_datastorage_read
    name: <Current()._id>
    description: Data storage settings read
  permission_api_datastorage_update:
    <<: *permission
    _id: api_datastorage_update
    name: <Current()._id>
    description: Data storage settings update
  permission_api_notification:
    <<: *permission
    _id: api_notification
    name: <Current()._id>
    description: Notification settings
  permission_api_instruction_approve:
    <<: *permission
    _id: api_instruction_approve
    name: <Current()._id>
    description: Instruction approve
  permission_api_resolve_rule:
    <<: *permission_crud
    _id: api_resolve_rule
    name: <Current()._id>
    description: Resolve rule
  permission_api_flapping_rule:
    <<: *permission_crud
    _id: api_flapping_rule
    name: <Current()._id>
    description: Flapping rule
  permission_api_metrics:
    <<: *permission
    _id: api_metrics
    name: <Current()._id>
    description: Metrics
  permission_api_rating_settings:
    <<: *permission_crud
    _id: api_rating_settings
    name: <Current()._id>
    description: Rating settings
  permission_api_metrics_settings:
    <<: *permission_crud
    _id: api_metrics_settings
    name: <Current()._id>
    description: Metrics settings
  permission_api_kpi_filter:
    <<: *permission_crud
    _id: api_kpi_filter
    name: <Current()._id>
    description: KPI filters
  permission_api_snmprule:
    <<: *permission_crud
    _id: api_snmprule
    name: <Current()._id>
    description: SNMP
  permission_api_snmpmib:
    <<: *permission_crud
    _id: api_snmpmib
    name: <Current()._id>
    description: SNMP MIB
  permission_api_corporate_pattern:
    <<: *permission
    _id: api_corporate_pattern
    name: <Current()._id>
    description: Corporate patterns
  permission_api_map:
    <<: *permission_crud
    _id: api_map
    name: <Current()._id>
    description: Map
  permission_api_share_token:
    <<: *permission_crud
    _id: api_share_token
    name: <Current()._id>
    description: Share token
  permission_api_techmetrics:
    <<: *permission
    _id: api_techmetrics
    name: <Current()._id>
    description: Tech Metrics
  permission_api_export_configurations:
    <<: *permission
    _id: api_export_configurations
    name: <Current()._id>
    description: Export configurations
  permission_api_declare_ticket_rule:
    <<: *permission_crud
    _id: api_declare_ticket_rule
    name: <Current()._id>
    description: Declare ticket rule
  permission_api_declare_ticket_execution:
    <<: *permission
    _id: api_declare_ticket_execution
    name: <Current()._id>
    description: Run declare ticket rules
  permission_api_link_rule:
    <<: *permission_crud
    _id: api_link_rule
    name: <Current()._id>
    description: Link rule

  # Views permissions
  permission_view_open_alarms:
    <<: *permission_rw
    _id: "@view_open_alarms"
    name: <Current()._id>
    description: "Rights on view: alarmes en cours"
  permission_view_resolved_alarms:
    <<: *permission_rw
    _id: "@view_resolved_alarms"
    name: <Current()._id>
    description: "Rights on view: alarmes resolues"
  permission_view_context_explorer:
    <<: *permission_rw
    _id: "@view_context_explorer"
    name: <Current()._id>
    description: "Rights on view: Explorateur de Contexte"
  permission_models_remediation_statistics:
    <<: *permission
    _id: models_remediationStatistic
    name: <Current()._id>
    description: Remediation statistics
  permission_barchart_interval:
    <<: *permission_rw
    _id: barchart_interval
    name: <Current()._id>
    description: Barchart interval
  permission_barchart_sampling:
    <<: *permission_rw
    _id: barchart_sampling
    name: <Current()._id>
    description: Barchart sampling
  permission_barchart_listFilters:
    <<: *permission_rw
    _id: barchart_listFilters
    name: <Current()._id>
    description: Barchart list filters
  permission_barchart_editFilter:
    <<: *permission_rw
    _id: barchart_editFilter
    name: <Current()._id>
    description: Barchart edit filter
  permission_barchart_addFilter:
    <<: *permission_rw
    _id: barchart_addFilter
    name: <Current()._id>
    description: Barchart add filter
  permission_barchart_userFilter:
    <<: *permission_rw
    _id: barchart_userFilter
    name: <Current()._id>
    description: Barchart user filter
  permission_linechart_interval:
    <<: *permission_rw
    _id: linechart_interval
    name: <Current()._id>
    description: Linechart interval
  permission_linechart_sampling:
    <<: *permission_rw
    _id: linechart_sampling
    name: <Current()._id>
    description: Linechart sampling
  permission_linechart_listFilters:
    <<: *permission_rw
    _id: linechart_listFilters
    name: <Current()._id>
    description: Linechart list filters
  permission_linechart_editFilter:
    <<: *permission_rw
    _id: linechart_editFilter
    name: <Current()._id>
    description: Linechart edit filter
  permission_linechart_addFilter:
    <<: *permission_rw
    _id: linechart_addFilter
    name: <Current()._id>
    description: Linechart add filter
  permission_linechart_userFilter:
    <<: *permission_rw
    _id: linechart_userFilter
    name: <Current()._id>
    description: Linechart user filter
  permission_piechart_interval:
    <<: *permission_rw
    _id: piechart_interval
    name: <Current()._id>
    description: Piechart interval
  permission_piechart_sampling:
    <<: *permission_rw
    _id: piechart_sampling
    name: <Current()._id>
    description: Piechart sampling
  permission_piechart_listFilters:
    <<: *permission_rw
    _id: piechart_listFilters
    name: <Current()._id>
    description: Piechart list filters
  permission_piechart_editFilter:
    <<: *permission_rw
    _id: piechart_editFilter
    name: <Current()._id>
    description: Piechart edit filter
  permission_piechart_addFilter:
    <<: *permission_rw
    _id: piechart_addFilter
    name: <Current()._id>
    description: Piechart add filter
  permission_piechart_userFilter:
    <<: *permission_rw
    _id: piechart_userFilter
    name: <Current()._id>
    description: Piechart user filter
  permission_numbers_interval:
    <<: *permission_rw
    _id: numbers_interval
    name: <Current()._id>
    description: Numbers interval
  permission_numbers_sampling:
    <<: *permission_rw
    _id: numbers_sampling
    name: <Current()._id>
    description: Numbers sampling
  permission_numbers_listFilters:
    <<: *permission_rw
    _id: numbers_listFilters
    name: <Current()._id>
    description: Numbers list filters
  permission_numbers_editFilter:
    <<: *permission_rw
    _id: numbers_editFilter
    name: <Current()._id>
    description: Numbers edit filter
  permission_numbers_addFilter:
    <<: *permission_rw
    _id: numbers_addFilter
    name: <Current()._id>
    description: Numbers add filter
  permission_numbers_userFilter:
    <<: *permission_rw
    _id: numbers_userFilter
    name: <Current()._id>
    description: Numbers user filter

role:
  role_admin:
    <<: *role
    name: admin
    defaultview: "@view_open_alarms"
    permissions:
      # UI permissions
      "@permission_models_userview": 15
      "@permission_models_role": 15
      "@permission_models_permission": 15
      "@permission_models_user": 15
      "@permission_models_parameters": 7
      "@permission_models_broadcastMessage": 15
      "@permission_models_playlist": 15
      "@permission_models_planning": 15
      "@permission_models_planningType": 15
      "@permission_models_planningReason": 15
      "@permission_models_planningExceptions": 15
      "@permission_models_remediation": 15
      "@permission_models_remediationInstruction": 15
      "@permission_models_remediationJob": 15
      "@permission_models_remediationConfiguration": 15
      "@permission_models_engine": 1
      "@permission_models_exploitation_eventFilter": 15
      "@permission_models_exploitation_pbehavior": 15
      "@permission_models_exploitation_snmpRule": 15
      "@permission_models_exploitation_dynamicInfo": 15
      "@permission_models_exploitation_metaAlarmRule": 15
      "@permission_models_exploitation_scenario": 15
      "@permission_models_exploitation_idleRules": 15
      "@permission_models_exploitation_flappingRules": 15
      "@permission_models_exploitation_resolveRules": 15
      "@permission_models_exploitation_declareTicketRule": 15
      "@permission_models_exploitation_linkRule": 15
      "@permission_models_healthcheck": 1
      "@permission_models_healthcheckStatus": 1
      "@permission_models_kpi": 1
      "@permission_models_kpiFilters": 15
      "@permission_models_kpiRatingSettings": 15
      "@permission_models_notification_instructionStats": 15
      "@permission_models_profile_corporatePattern": 15
      "@permission_models_map": 15
      "@permission_models_shareToken": 15
      "@permission_models_techmetrics": 1
      "@permission_models_widgetTemplate": 15
      "@permission_listalarm_ack": 1
      "@permission_listalarm_fastAck": 1
      "@permission_listalarm_cancelAck": 1
      "@permission_listalarm_pbehavior": 1
      "@permission_listalarm_snoozeAlarm": 1
      "@permission_listalarm_listPbehavior": 1
      "@permission_listalarm_declareanIncident": 1
      "@permission_listalarm_assignTicketNumber": 1
      "@permission_listalarm_removeAlarm": 1
      "@permission_listalarm_fastRemoveAlarm": 1
      "@permission_listalarm_changeState": 1
      "@permission_listalarm_history": 1
      "@permission_listalarm_groupRequest": 1
      "@permission_listalarm_manualMetaAlarmGroup": 1
      "@permission_listalarm_comment": 1
      "@permission_listalarm_listFilters": 1
      "@permission_listalarm_editFilter": 1
      "@permission_listalarm_addFilter": 1
      "@permission_listalarm_userFilter": 1
      "@permission_listalarm_listRemediationInstructionsFilters": 1
      "@permission_listalarm_editRemediationInstructionsFilter": 1
      "@permission_listalarm_addRemediationInstructionsFilter": 1
      "@permission_listalarm_userRemediationInstructionsFilter": 1
      "@permission_listalarm_links": 1
      "@permission_listalarm_correlation": 1
      "@permission_listalarm_executeInstruction": 1
      "@permission_listalarm_category": 1
      "@permission_listalarm_exportAsCsv": 1
      "@permission_serviceweather_entityAck": 1
      "@permission_serviceweather_entityAssocTicket": 1
      "@permission_serviceweather_entityValidate": 1
      "@permission_serviceweather_entityInvalidate": 1
      "@permission_serviceweather_entityPause": 1
      "@permission_serviceweather_entityPlay": 1
      "@permission_serviceweather_entityCancel": 1
      "@permission_serviceweather_entityManagePbehaviors": 1
      "@permission_serviceweather_entityLinks": 1
      "@permission_serviceweather_entityComment": 1
      "@permission_serviceweather_moreInfos": 1
      "@permission_serviceweather_alarmsList": 1
      "@permission_serviceweather_pbehaviorList": 1
      "@permission_serviceweather_listFilters": 1
      "@permission_serviceweather_editFilter": 1
      "@permission_serviceweather_addFilter": 1
      "@permission_serviceweather_userFilter": 1
      "@permission_serviceweather_category": 1
      "@permission_serviceweather_executeInstruction": 1
      "@permission_crudcontext_edit": 1
      "@permission_crudcontext_duplicate": 1
      "@permission_crudcontext_delete": 1
      "@permission_crudcontext_pbehavior": 1
      "@permission_crudcontext_listPbehavior": 1
      "@permission_crudcontext_deletePbehavior": 1
      "@permission_crudcontext_listFilters": 1
      "@permission_crudcontext_editFilter": 1
      "@permission_crudcontext_addFilter": 1
      "@permission_crudcontext_userFilter": 1
      "@permission_crudcontext_category": 1
      "@permission_crudcontext_exportAsCsv": 1
      "@permission_crudcontext_massEnable": 1
      "@permission_crudcontext_massDisable": 1
      "@permission_common_variablesHelp": 1
      "@permission_counter_alarmsList": 1
      "@permission_testingweather_alarmsList": 1
      "@permission_map_alarmsList": 1
      "@permission_map_listFilters": 1
      "@permission_map_editFilter": 1
      "@permission_map_addFilter": 1
      "@permission_map_userFilter": 1
      "@permission_map_category": 1
      # API permissions
      "@permission_api_alarm_read": 1
      "@permission_api_alarm_update": 1
      "@permission_api_idlerule": 15
      "@permission_crudcontext_createEntity": 1
      "@permission_api_eventfilter": 15
      "@permission_api_action": 15
      "@permission_api_metaalarmrule": 15
      "@permission_api_playlist": 15
      "@permission_api_dynamicinfos": 15
      "@permission_api_entityservice": 15
      "@permission_api_entitycategory": 15
      "@permission_api_viewgroup": 15
      "@permission_api_view": 15
      "@api_widgettemplate": 15
      "@permission_api_pbehavior": 15
      "@permission_api_pbehaviortype": 15
      "@permission_api_pbehaviorreason": 15
      "@permission_api_pbehaviorexception": 15
      "@permission_api_event": 1
      "@permission_api_healthcheck": 1
      "@permission_api_message_rate_stats_read": 1
      "@permission_api_execution": 1
      "@permission_api_job_config": 15
      "@permission_api_job": 15
      "@permission_api_instruction": 15
      "@permission_api_file": 15
      "@permission_api_entity": 15
      "@permission_api_contextgraph": 15
      "@permission_api_acl": 15
      "@permission_api_state_settings": 1
      "@permission_api_broadcast_message": 15
      "@permission_api_associative_table": 15
      "@permission_api_user_interface_update": 1
      "@permission_api_user_interface_delete": 1
      "@permission_api_junit": 15
      "@permission_api_datastorage_read": 1
      "@permission_api_datastorage_update": 1
      "@permission_api_notification": 1
      "@permission_api_instruction_approve": 1
      "@permission_api_resolve_rule": 15
      "@permission_api_flapping_rule": 15
      "@permission_api_metrics": 1
      "@permission_api_rating_settings": 15
      "@permission_api_metrics_settings": 15
      "@permission_api_kpi_filter": 15
      "@permission_api_snmprule": 15
      "@permission_api_snmpmib": 15
      "@permission_api_corporate_pattern": 1
      "@permission_api_map": 15
      "@permission_api_share_token": 15
      "@permission_api_techmetrics": 1
      "@permission_api_export_configurations": 1
      "@permission_api_declare_ticket_rule": 15
      "@permission_api_declare_ticket_execution": 1
      "@permission_api_link_rule": 15
      # Views permissions
      "@permission_view_open_alarms": 15
      "@permission_view_resolved_alarms": 15
      "@permission_view_context_explorer": 15
      "@permission_models_remediation_statistics": 1
      "@permission_barchart_interval": 15
      "@permission_barchart_sampling": 15
      "@permission_barchart_listFilters": 15
      "@permission_barchart_editFilter": 15
      "@permission_barchart_addFilter": 15
      "@permission_barchart_userFilter": 15
      "@permission_linechart_interval": 15
      "@permission_linechart_sampling": 15
      "@permission_linechart_listFilters": 15
      "@permission_linechart_editFilter": 15
      "@permission_linechart_addFilter": 15
      "@permission_linechart_userFilter": 15
      "@permission_piechart_interval": 15
      "@permission_piechart_sampling": 15
      "@permission_piechart_listFilters": 15
      "@permission_piechart_editFilter": 15
      "@permission_piechart_addFilter": 15
      "@permission_piechart_userFilter": 15
      "@permission_numbers_interval": 15
      "@permission_numbers_sampling": 15
      "@permission_numbers_listFilters": 15
      "@permission_numbers_editFilter": 15
      "@permission_numbers_addFilter": 15
      "@permission_numbers_userFilter": 15

user:
  user_admin:
    <<: *user
    name: root
    roles:
      - "@role_admin"
    email: admin@canopsis.org
    password: "<Password(root)>"
