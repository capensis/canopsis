2022-11-30T18:18:15+01:00 info > given service and new entity by new-import should update service file="features/engines/integration/contextgraph_new_import.feature" 
2022-11-30T18:18:15+01:00 info > received event event_type="recomputeentityservice" entity="d8c3e0c1-e081-40a1-b944-9d4059a5d78d" body={"_id":null,"ack_resources":false,"alarm_change":{"PreviousPbehaviorCannonicalType":"","PreviousPbehaviorTypeID":"","PreviousState":0,"PreviousStateChange":1669828695,"PreviousStatus":0,"PreviousStatusChange":1669828695,"Type":""},"author":"system","component":"d8c3e0c1-e081-40a1-b944-9d4059a5d78d","connector":"service","connector_name":"service","current_alarm":null,"current_entity":{"_id":"d8c3e0c1-e081-40a1-b944-9d4059a5d78d","category":"","created":1669828695,"depends":[],"description":"","enable_history":[],"enabled":true,"impact":[],"impact_level":1,"import_source":"","imported":null,"infos":{},"measurements":null,"name":"test-entityservice-new-import-partial-1-name","pbehavior_info":{"canonical_type":"","id":"","name":"","reason":"","timestamp":null,"type":"","type_name":""},"sli_avail_state":0,"soft_deleted":false,"type":"service"},"debug":false,"display_name":"","duration":0,"event_type":"recomputeentityservice","extra":{},"initiator":"external","long_output":"","ma_children":null,"ma_parents":null,"metaalarm_rule_id":"","metaalarm_value_path":"","output":"","pbehavior_info":{"canonical_type":"","id":"","name":"","reason":"","timestamp":null,"type":"","type_name":""},"perf_data":null,"perf_data_array":null,"resource":"","routing_key":"","rt":1669828695764959,"source_type":"service","stat_name":"","state":0,"status":null,"tags":null,"ticket":"","timestamp":1669828695,"user_id":""} 
2022-11-30T18:18:15+01:00 info > received event event_type="check" entity="d8c3e0c1-e081-40a1-b944-9d4059a5d78d" body={"_id":null,"ack_resources":false,"alarm_change":{"PreviousPbehaviorCannonicalType":"","PreviousPbehaviorTypeID":"","PreviousState":0,"PreviousStateChange":1669828695,"PreviousStatus":0,"PreviousStatusChange":1669828695,"Type":""},"author":"","component":"d8c3e0c1-e081-40a1-b944-9d4059a5d78d","connector":"service","connector_name":"service","current_alarm":null,"current_entity":{"_id":"d8c3e0c1-e081-40a1-b944-9d4059a5d78d","category":"","created":1669828695,"depends":[],"description":"","enable_history":[],"enabled":true,"impact":[],"impact_level":1,"import_source":"","imported":null,"infos":{},"measurements":null,"name":"test-entityservice-new-import-partial-1-name","pbehavior_info":{"canonical_type":"","id":"","name":"","reason":"","timestamp":null,"type":"","type_name":""},"sli_avail_state":0,"soft_deleted":false,"type":"service"},"debug":false,"display_name":"","duration":0,"event_type":"check","extra":{},"initiator":"external","long_output":"","ma_children":null,"ma_parents":null,"metaalarm_rule_id":"","metaalarm_value_path":"","output":"All: 0; Alarms: 0; Acknowledged: 0; NotAcknowledged: 0; StateCritical: 0; StateMajor: 0; StateMinor: 0; StateInfo: 0; Pbehaviors: map[];","pbehavior_info":{"canonical_type":"","id":"","name":"","reason":"","timestamp":null,"type":"","type_name":""},"perf_data":null,"perf_data_array":null,"resource":"","routing_key":"","rt":1669828695806934,"source_type":"service","stat_name":"","state":0,"status":null,"tags":null,"ticket":"","timestamp":1669828695,"user_id":""} 
2022-11-30T18:18:17+01:00 info > received event event_type="entitytoggled" entity="test-component-new-import-partial-1" body={"_id":null,"ack_resources":false,"added_to_services":["d8c3e0c1-e081-40a1-b944-9d4059a5d78d"],"alarm_change":{"PreviousPbehaviorCannonicalType":"","PreviousPbehaviorTypeID":"","PreviousState":0,"PreviousStateChange":1669828696,"PreviousStatus":0,"PreviousStatusChange":1669828696,"Type":"entitytoggled"},"author":"system","component":"test-component-new-import-partial-1","connector":"taskhandler","connector_name":"task_importctx","current_alarm":null,"current_entity":{"_id":"test-component-new-import-partial-1","category":"","component":"test-component-new-import-partial-1","created":1669828696,"depends":[],"description":"","enable_history":[],"enabled":true,"impact":[],"impact_level":1,"import_source":"test-new-import-partial-1-source","imported":1669828696,"infos":{},"measurements":[],"name":"test-component-new-import-partial-1","pbehavior_info":{"canonical_type":"","id":"","name":"","reason":"","timestamp":null,"type":"","type_name":""},"sli_avail_state":0,"soft_deleted":false,"type":"component"},"debug":false,"display_name":"","duration":0,"event_type":"entitytoggled","extra":{},"initiator":"external","long_output":"","ma_children":null,"ma_parents":null,"metaalarm_rule_id":"","metaalarm_value_path":"","output":"","pbehavior_info":{"canonical_type":"","id":"","name":"","reason":"","timestamp":null,"type":"","type_name":""},"perf_data":null,"perf_data_array":null,"resource":"","routing_key":"","rt":1669828696636702,"source_type":"component","stat_name":"","state":0,"status":null,"tags":null,"ticket":"","timestamp":1669828696,"user_id":""} 
2022-11-30T18:18:27+01:00 info > given service and updated entity by new-import should update service file="features/engines/integration/contextgraph_new_import.feature" 
2022-11-30T18:18:27+01:00 info > received event event_type="activate" entity="test-component-new-import-partial-2" body={"_id":null,"ack_resources":false,"alarm_change":null,"author":"","component":"test-component-new-import-partial-2","connector":"test-connector-new-import-partial-2","connector_name":"test-connector-name-new-import-partial-2","current_alarm":null,"current_entity":null,"debug":false,"display_name":"","duration":0,"event_type":"activate","extra":null,"initiator":"","long_output":"","ma_children":null,"ma_parents":null,"metaalarm_rule_id":"","metaalarm_value_path":"","output":"","pbehavior_info":{"canonical_type":"","id":"","name":"","reason":"","timestamp":null,"type":"","type_name":""},"perf_data":null,"perf_data_array":null,"resource":"","routing_key":"","rt":1669828707320433,"source_type":"component","stat_name":"","state":0,"status":null,"tags":null,"ticket":"","timestamp":1669828707,"user_id":""} 
2022-11-30T18:18:27+01:00 info > received event event_type="recomputeentityservice" entity="8292d048-c095-41e3-a218-ddea32bc1641" body={"_id":null,"ack_resources":false,"alarm_change":{"PreviousPbehaviorCannonicalType":"","PreviousPbehaviorTypeID":"","PreviousState":0,"PreviousStateChange":1669828707,"PreviousStatus":0,"PreviousStatusChange":1669828707,"Type":""},"author":"system","component":"8292d048-c095-41e3-a218-ddea32bc1641","connector":"service","connector_name":"service","current_alarm":null,"current_entity":{"_id":"8292d048-c095-41e3-a218-ddea32bc1641","category":"","created":1669828707,"depends":[],"description":"","enable_history":[],"enabled":true,"impact":[],"impact_level":1,"import_source":"","imported":null,"infos":{},"measurements":null,"name":"test-entityservice-new-import-partial-2-name","pbehavior_info":{"canonical_type":"","id":"","name":"","reason":"","timestamp":null,"type":"","type_name":""},"sli_avail_state":0,"soft_deleted":false,"type":"service"},"debug":false,"display_name":"","duration":0,"event_type":"recomputeentityservice","extra":{},"initiator":"external","long_output":"","ma_children":null,"ma_parents":null,"metaalarm_rule_id":"","metaalarm_value_path":"","output":"","pbehavior_info":{"canonical_type":"","id":"","name":"","reason":"","timestamp":null,"type":"","type_name":""},"perf_data":null,"perf_data_array":null,"resource":"","routing_key":"","rt":1669828707406012,"source_type":"service","stat_name":"","state":0,"status":null,"tags":null,"ticket":"","timestamp":1669828707,"user_id":""} 
2022-11-30T18:18:27+01:00 info > received event event_type="check" entity="8292d048-c095-41e3-a218-ddea32bc1641" body={"_id":null,"ack_resources":false,"alarm_change":{"PreviousPbehaviorCannonicalType":"","PreviousPbehaviorTypeID":"","PreviousState":0,"PreviousStateChange":1669828707,"PreviousStatus":0,"PreviousStatusChange":1669828707,"Type":""},"author":"","component":"8292d048-c095-41e3-a218-ddea32bc1641","connector":"service","connector_name":"service","current_alarm":null,"current_entity":{"_id":"8292d048-c095-41e3-a218-ddea32bc1641","category":"","created":1669828707,"depends":[],"description":"","enable_history":[],"enabled":true,"impact":[],"impact_level":1,"import_source":"","imported":null,"infos":{},"measurements":null,"name":"test-entityservice-new-import-partial-2-name","pbehavior_info":{"canonical_type":"","id":"","name":"","reason":"","timestamp":null,"type":"","type_name":""},"sli_avail_state":0,"soft_deleted":false,"type":"service"},"debug":false,"display_name":"","duration":0,"event_type":"check","extra":{},"initiator":"external","long_output":"","ma_children":null,"ma_parents":null,"metaalarm_rule_id":"","metaalarm_value_path":"","output":"All: 0; Alarms: 0; Acknowledged: 0; NotAcknowledged: 0; StateCritical: 0; StateMajor: 0; StateMinor: 0; StateInfo: 0; Pbehaviors: map[];","pbehavior_info":{"canonical_type":"","id":"","name":"","reason":"","timestamp":null,"type":"","type_name":""},"perf_data":null,"perf_data_array":null,"resource":"","routing_key":"","rt":1669828707426251,"source_type":"service","stat_name":"","state":0,"status":null,"tags":null,"ticket":"","timestamp":1669828707,"user_id":""} 
2022-11-30T18:18:27+01:00 info > received event entity="test-component-new-import-partial-2" body={"_id":null,"ack_resources":false,"added_to_services":["8292d048-c095-41e3-a218-ddea32bc1641"],"alarm_change":{"PreviousPbehaviorCannonicalType":"","PreviousPbehaviorTypeID":"","PreviousState":1,"PreviousStateChange":1669828707,"PreviousStatus":1,"PreviousStatusChange":1669828707,"Type":""},"author":"system","component":"test-component-new-import-partial-2","connector":"taskhandler","connector_name":"task_importctx","current_alarm":{"_id":"0edbc65e-f816-460f-a1ec-469d30e57a87","d":"test-component-new-import-partial-2","t":1669828707,"tags":[],"v":{"RuleVersion":{},"activation_date":1669828707,"active_duration":0,"children":[],"component":"test-component-new-import-partial-2","connector":"test-connector-new-import-partial-2","connector_name":"test-connector-name-new-import-partial-2","creation_date":1669828707,"current_state_duration":0,"display_name":"L8N-6CT-EMR","duration":0,"events_count":1,"inactive_duration":0,"inactive_start":null,"infos":{},"initial_long_output":"","initial_output":"test-output-new-import-partial-2","last_event_date":1669828707,"last_update_date":1669828707,"long_output":"","long_output_history":[""],"output":"test-output-new-import-partial-2","parents":[],"pbehavior_info":{"canonical_type":"","id":"","name":"","reason":"","timestamp":null,"type":"","type_name":""},"pbh_inactive_duration":0,"snooze_duration":0,"state":{"_t":"stateinc","a":"test-connector-new-import-partial-2.test-connector-name-new-import-partial-2","m":"test-output-new-import-partial-2","statecounter":{"statechanges":0,"statedec":0,"stateinc":0},"t":1669828707,"val":1},"status":{"_t":"statusinc","a":"test-connector-new-import-partial-2.test-connector-name-new-import-partial-2","m":"test-output-new-import-partial-2","statecounter":{"statechanges":0,"statedec":0,"stateinc":0},"t":1669828707,"val":1},"steps":[{"_t":"stateinc","a":"test-connector-new-import-partial-2.test-connector-name-new-import-partial-2","m":"test-output-new-import-partial-2","statecounter":{"statechanges":0,"statedec":0,"stateinc":0},"t":1669828707,"val":1},{"_t":"statusinc","a":"test-connector-new-import-partial-2.test-connector-name-new-import-partial-2","m":"test-output-new-import-partial-2","statecounter":{"statechanges":0,"statedec":0,"stateinc":0},"t":1669828707,"val":1}],"total_state_changes":1}},"current_entity":{"_id":"test-component-new-import-partial-2","category":"","component":"test-component-new-import-partial-2","connector":"test-connector-new-import-partial-2/test-connector-name-new-import-partial-2","created":1669828707,"depends":[],"description":"","enable_history":[1669828707],"enabled":true,"impact":["test-connector-new-import-partial-2/test-connector-name-new-import-partial-2"],"impact_level":1,"import_source":"test-new-import-partial-2-source","imported":1669828707,"infos":{"test-component-new-import-partial-2-infos-1":{"description":"","name":"test-component-new-import-partial-2-infos-1","value":"test-component-new-import-partial-2-infos-1-value"}},"last_event_date":1669828707,"measurements":null,"name":"test-component-new-import-partial-2","pbehavior_info":{"canonical_type":"","id":"","name":"","reason":"","timestamp":null,"type":"","type_name":""},"sli_avail_state":0,"soft_deleted":false,"type":"component"},"debug":false,"display_name":"","duration":0,"event_type":"entityupdated","extra":{},"initiator":"external","long_output":"","ma_children":null,"ma_parents":null,"metaalarm_rule_id":"","metaalarm_value_path":"","output":"","pbehavior_info":{"canonical_type":"","id":"","name":"","reason":"","timestamp":null,"type":"","type_name":""},"perf_data":null,"perf_data_array":null,"resource":"","routing_key":"","rt":1669828707621759,"source_type":"component","stat_name":"","state":0,"status":null,"tags":null,"ticket":"","timestamp":1669828707,"user_id":""} event_type="entityupdated" 
2022-11-30T18:18:27+01:00 info > received event event_type="activate" entity="8292d048-c095-41e3-a218-ddea32bc1641" body={"_id":null,"ack_resources":false,"alarm_change":null,"author":"","component":"8292d048-c095-41e3-a218-ddea32bc1641","connector":"service","connector_name":"service","current_alarm":null,"current_entity":null,"debug":false,"display_name":"","duration":0,"event_type":"activate","extra":null,"initiator":"","long_output":"","ma_children":null,"ma_parents":null,"metaalarm_rule_id":"","metaalarm_value_path":"","output":"","pbehavior_info":{"canonical_type":"","id":"","name":"","reason":"","timestamp":null,"type":"","type_name":""},"perf_data":null,"perf_data_array":null,"resource":"","routing_key":"","rt":1669828707638463,"source_type":"component","stat_name":"","state":0,"status":null,"tags":null,"ticket":"","timestamp":1669828707,"user_id":""} 
2022-11-30T18:18:37+01:00 info > given disabled entity by new-import should resolve alarm file="features/engines/integration/contextgraph_new_import.feature" 
2022-11-30T18:18:37+01:00 info > received event event_type="activate" entity="test-component-new-import-partial-3" body={"_id":null,"ack_resources":false,"alarm_change":null,"author":"","component":"test-component-new-import-partial-3","connector":"test-connector-new-import-partial-3","connector_name":"test-connector-name-new-import-partial-3","current_alarm":null,"current_entity":null,"debug":false,"display_name":"","duration":0,"event_type":"activate","extra":null,"initiator":"","long_output":"","ma_children":null,"ma_parents":null,"metaalarm_rule_id":"","metaalarm_value_path":"","output":"","pbehavior_info":{"canonical_type":"","id":"","name":"","reason":"","timestamp":null,"type":"","type_name":""},"perf_data":null,"perf_data_array":null,"resource":"","routing_key":"","rt":1669828717731132,"source_type":"component","stat_name":"","state":0,"status":null,"tags":null,"ticket":"","timestamp":1669828717,"user_id":""} 
2022-11-30T18:18:39+01:00 info > received event event_type="entitytoggled" entity="test-component-new-import-partial-3" body={"_id":null,"ack_resources":false,"alarm_change":null,"author":"system","component":"test-component-new-import-partial-3","connector":"taskhandler","connector_name":"task_importctx","current_alarm":null,"current_entity":null,"debug":false,"display_name":"","duration":0,"event_type":"entitytoggled","extra":null,"initiator":"external","long_output":"","ma_children":null,"ma_parents":null,"metaalarm_rule_id":"","metaalarm_value_path":"","output":"","pbehavior_info":{"canonical_type":"","id":"","name":"","reason":"","timestamp":null,"type":"","type_name":""},"perf_data":null,"perf_data_array":null,"resource":"","routing_key":"","rt":1669828718612502,"source_type":"component","stat_name":"","state":0,"status":null,"tags":null,"ticket":"","timestamp":1669828718,"user_id":""} 
2022-11-30T18:18:49+01:00 info > given deleted entity by new import should resolve alarm file="features/engines/integration/contextgraph_new_import.feature" 
2022-11-30T18:18:49+01:00 info > received event event_type="activate" entity="test-component-new-import-partial-4" body={"_id":null,"ack_resources":false,"alarm_change":null,"author":"","component":"test-component-new-import-partial-4","connector":"test-connector-new-import-partial-4","connector_name":"test-connector-name-new-import-partial-4","current_alarm":null,"current_entity":null,"debug":false,"display_name":"","duration":0,"event_type":"activate","extra":null,"initiator":"","long_output":"","ma_children":null,"ma_parents":null,"metaalarm_rule_id":"","metaalarm_value_path":"","output":"","pbehavior_info":{"canonical_type":"","id":"","name":"","reason":"","timestamp":null,"type":"","type_name":""},"perf_data":null,"perf_data_array":null,"resource":"","routing_key":"","rt":1669828729274584,"source_type":"component","stat_name":"","state":0,"status":null,"tags":null,"ticket":"","timestamp":1669828729,"user_id":""} 
2022-11-30T18:18:50+01:00 info > received event body={"_id":null,"ack_resources":false,"alarm_change":null,"author":"system","component":"test-component-new-import-partial-4","connector":"engine","connector_name":"engine-che","current_alarm":null,"current_entity":null,"debug":false,"display_name":"","duration":0,"event_type":"resolve_deleted","extra":null,"initiator":"external","long_output":"","ma_children":null,"ma_parents":null,"metaalarm_rule_id":"","metaalarm_value_path":"","output":"","pbehavior_info":{"canonical_type":"","id":"","name":"","reason":"","timestamp":null,"type":"","type_name":""},"perf_data":null,"perf_data_array":null,"resource":"","routing_key":"","rt":1669828730119326,"source_type":"component","stat_name":"","state":0,"status":null,"tags":null,"ticket":"","timestamp":1669828730,"user_id":""} event_type="resolve_deleted" entity="test-component-new-import-partial-4" 
2022-11-30T18:19:00+01:00 info > given deleted component by new import should resolve alarm for resources file="features/engines/integration/contextgraph_new_import.feature" 
2022-11-30T18:19:00+01:00 info > received event body={"_id":null,"ack_resources":false,"alarm_change":null,"author":"","component":"test-component-new-import-partial-5","connector":"test-connector-new-import-partial-5","connector_name":"test-connector-name-new-import-partial-5","current_alarm":null,"current_entity":null,"debug":false,"display_name":"","duration":0,"event_type":"activate","extra":null,"initiator":"","long_output":"","ma_children":null,"ma_parents":null,"metaalarm_rule_id":"","metaalarm_value_path":"","output":"","pbehavior_info":{"canonical_type":"","id":"","name":"","reason":"","timestamp":null,"type":"","type_name":""},"perf_data":null,"perf_data_array":null,"resource":"test-resource-new-import-partial-5-1","routing_key":"","rt":1669828740176795,"source_type":"resource","stat_name":"","state":0,"status":null,"tags":null,"ticket":"","timestamp":1669828740,"user_id":""} event_type="activate" entity="test-resource-new-import-partial-5-1/test-component-new-import-partial-5" 
2022-11-30T18:19:00+01:00 info > received event event_type="activate" entity="test-resource-new-import-partial-5-2/test-component-new-import-partial-5" body={"_id":null,"ack_resources":false,"alarm_change":null,"author":"","component":"test-component-new-import-partial-5","connector":"test-connector-new-import-partial-5","connector_name":"test-connector-name-new-import-partial-5","current_alarm":null,"current_entity":null,"debug":false,"display_name":"","duration":0,"event_type":"activate","extra":null,"initiator":"","long_output":"","ma_children":null,"ma_parents":null,"metaalarm_rule_id":"","metaalarm_value_path":"","output":"","pbehavior_info":{"canonical_type":"","id":"","name":"","reason":"","timestamp":null,"type":"","type_name":""},"perf_data":null,"perf_data_array":null,"resource":"test-resource-new-import-partial-5-2","routing_key":"","rt":1669828740259091,"source_type":"resource","stat_name":"","state":0,"status":null,"tags":null,"ticket":"","timestamp":1669828740,"user_id":""} 
2022-11-30T18:19:02+01:00 info > received event event_type="resolve_deleted" entity="test-resource-new-import-partial-5-1/test-component-new-import-partial-5" body={"_id":null,"ack_resources":false,"alarm_change":null,"author":"system","component":"test-component-new-import-partial-5","connector":"engine","connector_name":"engine-che","current_alarm":null,"current_entity":null,"debug":false,"display_name":"","duration":0,"event_type":"resolve_deleted","extra":null,"initiator":"external","long_output":"","ma_children":null,"ma_parents":null,"metaalarm_rule_id":"","metaalarm_value_path":"","output":"","pbehavior_info":{"canonical_type":"","id":"","name":"","reason":"","timestamp":null,"type":"","type_name":""},"perf_data":null,"perf_data_array":null,"resource":"test-resource-new-import-partial-5-1","routing_key":"","rt":1669828742099685,"source_type":"resource","stat_name":"","state":0,"status":null,"tags":null,"ticket":"","timestamp":1669828742,"user_id":""} 
2022-11-30T18:19:02+01:00 info > received event event_type="resolve_deleted" entity="test-resource-new-import-partial-5-2/test-component-new-import-partial-5" body={"_id":null,"ack_resources":false,"alarm_change":null,"author":"system","component":"test-component-new-import-partial-5","connector":"engine","connector_name":"engine-che","current_alarm":null,"current_entity":null,"debug":false,"display_name":"","duration":0,"event_type":"resolve_deleted","extra":null,"initiator":"external","long_output":"","ma_children":null,"ma_parents":null,"metaalarm_rule_id":"","metaalarm_value_path":"","output":"","pbehavior_info":{"canonical_type":"","id":"","name":"","reason":"","timestamp":null,"type":"","type_name":""},"perf_data":null,"perf_data_array":null,"resource":"test-resource-new-import-partial-5-2","routing_key":"","rt":1669828742101887,"source_type":"resource","stat_name":"","state":0,"status":null,"tags":null,"ticket":"","timestamp":1669828742,"user_id":""} 
