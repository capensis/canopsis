/*
 * Copyright (c) 2015 "Capensis" [http://www.capensis.com]
 *
 * This file is part of Canopsis.
 *
 * Canopsis is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Affero General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * Canopsis is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
 * GNU Affero General Public License for more details.
 *
 * You should have received a copy of the GNU Affero General Public License
 * along with Canopsis. If not, see <http://www.gnu.org/licenses/>.
 */

window.bricks['charts'].schemasArray = [{"id":"categorychartitem","_id":"categorychartitem","crecord_name":"categorychartitem","schema":{"type":"object","categories":[{"title":"General","keys":["name","color"]},{"title":"Data","keys":["series","metrics"]}],"properties":{"name":{"type":"string","required":true},"color":{"type":"string","role":"color","required":true},"series":{"type":"array","role":"arrayclassifiedcrecordselector","crecordtype":"serie","valueKey":"_id"},"metrics":{"type":"array","items":{"type":"string"},"role":"cmetric","title":"Simple data source"}}}},{"id":"crecord.curve","_id":"crecord.curve","crecord_name":"curve","schema":{"categories":[{"title":"General","keys":["crecord_name"]},{"title":"Curve Style","keys":["stacked","lines","areas","points","bars","valueLabels"]},{"title":"Customize Curve","keys":["line_width","bar_width","line_style","point_shape","area_opacity"]}],"type":"object","properties":{"crecord_type":{"enum":["curve"],"required":true},"crecord_name":{"type":"string","required":true,"title":"Name"},"lines":{"type":"boolean","default":true,"title":"Show line"},"areas":{"type":"boolean","default":false,"title":"Fill area under line"},"points":{"type":"boolean","default":true,"title":"Show points"},"bars":{"type":"boolean","default":false,"title":"Show bars"},"line_width":{"type":"integer","default":1,"title":"Line width"},"bar_width":{"type":"integer","default":10,"title":"Bar width"},"line_style":{"enum":["line","dash","dot","dashdot","dashdotdot"],"default":"line","title":"Lines style","role":"simplelist"},"point_shape":{"enum":["circle","triangle","square"],"default":"circle","title":"Point's shape","role":"simplelist"},"area_opacity":{"type":"number","title":"Area opacity","minimum":0,"maximum":1,"default":0.75},"valueLabels":{"type":"boolean","default":true}}}},{"id":"crecord.serie","_id":"crecord.serie","crecord_name":"serie","schema":{"categories":[{"title":"Data Source","keys":["crecord_name","metrics"]},{"title":"Advanced Computation","keys":["aggregate_method","aggregate_interval","formula"]},{"title":"Metadata","keys":["min","max","warn","crit","unit"]}],"type":"object","properties":{"crecord_type":{"enum":["serie"],"required":true},"crecord_name":{"type":"string","required":true,"title":"Name"},"metrics":{"type":"array","items":{"type":"string"},"role":"cmetric","title":"Data source for series"},"formula":{"type":"string","role":"serieformula","required":true},"min":{"type":"number"},"max":{"type":"number"},"warn":{"type":"number"},"crit":{"type":"number"},"unit":{"type":"string"},"aggregate_method":{"title":"Aggregation Method","role":"simplelist","enum":["none","first","last","average","min","max","sum"],"default":"none"},"aggregate_interval":{"title":"Interval of aggregation","type":"integer","role":"duration","default":86400}}}},{"id":"stylizedmetric","_id":"stylizedmetric","crecord_name":"stylizedmetric","schema":{"categories":[{"title":"General","keys":["metric","unit","curve","color","xaxis","yaxis"]}],"type":"object","properties":{"xtype":{"type":"string","required":true},"metric":{"type":"string","required":true},"unit":{"type":"string","required":false},"curve":{"type":"string","role":"modelselect","model":"crecord.curve","required":true,"default":"curve.simpleline"},"color":{"type":"string","role":"color","default":"#B7CA79","required":true},"xaxis":{"title":"X Axis index","type":"integer","role":"integer","default":1,"minimum":1},"yaxis":{"title":"Y Axis index","type":"integer","role":"integer","default":1,"minimum":1}}}},{"id":"stylizedserie","_id":"stylizedserie","crecord_name":"stylizedserie","schema":{"categories":[{"title":"General","keys":["serie","curve","color","xaxis","yaxis"]}],"type":"object","properties":{"xtype":{"type":"string","required":true},"serie":{"type":"string","required":true},"curve":{"type":"string","required":true},"color":{"type":"string","role":"color","default":"#B7CA79","required":true},"xaxis":{"title":"X Axis index","type":"integer","role":"integer","default":1,"minimum":1},"yaxis":{"title":"Y Axis index","type":"integer","role":"integer","default":1,"minimum":1}}}},{"id":"widget.categorychart","_id":"widget.categorychart","crecord_name":"categorychart","schema":{"type":"object","metadata":{"icon":"fa fa-pie-chart"},"categories":[{"title":"General","keys":["title","display","human_readable","allow_user_display","metric_template","use_max_value","max_value","text_left_space","show_legend","show_tooltip","show_labels","stacked"]},{"title":"Series","keys":["series"]},{"title":"Metrics","keys":["metrics"]},{"title":"Mixins","keys":["mixins"]}],"properties":{"title":{"type":"string"},"time_window":{"type":"number","role":"duration","default":86400,"title":"Time Window to show on graph"},"time_window_offset":{"type":"number","role":"duration","default":0,"title":"Time window offset from now"},"text_left_space":{"type":"string","default":"Left until max","title":"test left space","description":"Name of the serie dynamically created when max value enabled."},"human_readable":{"type":"boolean","default":true,"description":"Show metrics values in a human readable way."},"display":{"enum":["gauge","pie","progressbar","donut","bar"],"role":"simplelist","default":"pie","description":"Allow to select the categorie chart representation"},"allow_user_display":{"type":"boolean","role":"boolean","default":true,"description":"Allow users to dynamically change chart type.","title":"allow user display"},"max_value":{"type":"number","minimum":0,"description":"maximum value to display on the chart. This will create a serie with a value equal to the sum of series values minus the max.  Depends on if use max value is selected","title":"max value"},"use_max_value":{"type":"boolean","default":false,"role":"boolean","description":"Use or not max value. when max value disabled, the maximum value of the chart is the sum of all series.","title":"use max value"},"metric_template":{"type":"string","description":"Select metric to display in the chart. the last value in an interval of 10 minutes is selected by default. Availables template values are <ul><li>connector</li><li>connector_name</li><li>component</li><li>resource</li><li>metric</li></ul>e.g. {{component}} - {{metric}}","title":"metric template"},"series":{"description":"Select computed metric values usable in the texteditor. When many points selected for the serie interval, the last one's value only is displayed.","type":"array","role":"arrayclassifiedcrecordselector","model":"serie","crecordtype":"serie","multiselect":true},"metrics":{"type":"array","items":{"type":"string"},"role":"cmetric","title":"Metrics"},"show_legend":{"type":"boolean","default":true,"role":"boolean","description":"Display legend when checked","title":"show legend"},"stacked":{"type":"boolean","default":false,"role":"boolean","description":"Display stacked elements when checked","title":"stacked"},"show_tooltip":{"type":"boolean","default":true,"role":"boolean","description":"Display tooltip when checked","title":"show tooltip"},"show_labels":{"type":"boolean","default":true,"role":"boolean","description":"Display labels when checked","title":"show labels"}}}},{"id":"widget.timegraph","_id":"widget.timegraph","crecord_name":"timegraph","schema":{"type":"object","metadata":{"icon":"fa fa-line-chart"},"categories":[{"title":"General","keys":["title","human_readable","legend","tooltip"]},{"title":"Time Window","keys":["time_window","time_window_offset"]},{"title":"History","keys":["timenav","timenav_window","timestep"]},{"title":"Series","keys":["series"]},{"title":"Metrics","keys":["metric_template","metrics"]},{"title":"Mixins","keys":["mixins"]}],"properties":{"title":{"type":"string"},"refreshableWidget":{"type":"boolean","default":true},"isRefreshable":{"type":"boolean","default":true},"human_readable":{"type":"boolean","default":false,"title":"Human readable values"},"time_window":{"type":"number","role":"duration","default":86400,"title":"Time Window to show on graph"},"time_window_offset":{"type":"number","role":"duration","default":0,"title":"Time window offset from now"},"timenav":{"type":"boolean","default":false,"title":"Enable history navigation"},"timenav_window":{"type":"number","role":"duration","default":172800,"title":"History time window"},"timestep":{"type":"number","role":"duration","default":60,"title":"Single step duration"},"legend":{"type":"boolean","default":true,"title":"Show legend"},"tooltip":{"type":"boolean","default":true,"title":"Show tooltips"},"series":{"type":"array","role":"array","items":{"type":"object","role":"serieitem"}},"metrics":{"type":"array","role":"array","items":{"type":"object","role":"metricitem"}},"metric_template":{"type":"string","description":"Template metric information to display in the chart. Availables template values are: connector, connector_name, component, resource, metric. e.g. {{component}} - {{metric}}","title":"metric template"}}}}];

for (var i = 0, l = window.bricks['charts'].schemasArray.length; i < l; i++) {
    var schema = window.bricks['charts'].schemasArray[i];
    schema.id = schema._id;
    window.schemasToLoad.push(schema);
}
