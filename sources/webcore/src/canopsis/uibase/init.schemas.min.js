/*
 * Copyright (c) 2015 "Capensis" [http://www.capensis.com]
 *
 * This file is part of Canopsis.
 *
 * Canopsis is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Affero General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * Canopsis is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
 * GNU Affero General Public License for more details.
 *
 * You should have received a copy of the GNU Affero General Public License
 * along with Canopsis. If not, see <http://www.gnu.org/licenses/>.
 */

window.bricks['uibase'].schemasArray = [{"id":"crecord.pbehaviorform","_id":"crecord.pbehaviorform","crecord_name":"pbehaviorform","schema":{"type":"object","categories":[{"title":"General","keys":["name","start","end","rrule","reason","type_"]}],"properties":{"name":{"type":"string","required":true},"start":{"type":"timestamp","required":true},"end":{"type":"timestamp","required":true},"rrule":{"type":"rruleeditor"},"reason":{"type":"string","enum":["Problème Habilitation","Problème Robot","Problème Scénario","Autre"],"default":"group","role":"simplelist","required":true},"type_":{"type":"string","enum":["Pause","Maintenance","Hors plage horaire de surveillance"],"default":"group","role":"simplelist","required":true}}}},{"id":"crecord.rangecolor","_id":"crecord.rangecolor","crecord_name":"rangecolor","schema":{"type":"object","categories":[{"title":"General","keys":["name","colors"]}],"properties":{"name":{"type":"string"},"colors":{"type":"array","items":{"type":"string","role":"color"},"reorderable":true}}}},{"id":"customfilter","_id":"customfilter","crecord_name":"customfilter","schema":{"type":"object","categories":[{"title":"Filter edition","keys":["title","filter"]}],"properties":{"filter":{"type":"string","role":"cfilter","required":true},"title":{"type":"string","required":true}}}},{"id":"mixin.arraysearch","_id":"mixin.arraysearch","crecord_name":"arraysearch","schema":{"type":"object","categories":[{"title":"General","keys":["searchable_columns"]}],"properties":{"searchable_columns":{"type":"array","description":"List of columns to allow search on","items":{"type":"string"},"reorderable":true}}}},{"id":"mixin.background","_id":"mixin.background","crecord_name":"background","schema":{"type":"object","categories":[{"title":"Background","keys":["imageUrl","position","repeat","size","backgroundcolor"]}],"metadata":{"icon":"fa fa-picture-o","description":"Puts a background image on a widget"},"properties":{"backgroundcolor":{"type":"string","role":"color","default":"#000000","required":true,"title":"Background color"},"imageUrl":{"type":"string"},"position":{"type":"string"},"repeat":{"type":"string","enum":["no-repeat","repeat-x","repeat-y","repeat"],"role":"simplelist"},"size":{"type":"string"}}}},{"id":"mixin.ccontext","_id":"mixin.ccontext","crecord_name":"ccontext","schema":{"type":"object","metadata":{"icon":"fa fa-bar-chart"},"categories":[{"title":"General","keys":["name","type"]},{"title":"Depends","keys":["depends"]},{"title":"Impact","keys":["impact"]}],"properties":{"name":{"type":"string"},"type":{"type":"string"},"depends":{"type":"array","items":{"type":"string"},"reorderable":true},"impact":{"type":"array","items":{"type":"string"},"reorderable":true}}}},{"id":"mixin.context","_id":"mixin.context","crecord_name":"context","schema":{"type":"object","metadata":{"icon":"fa fa-bar-chart"},"categories":[{"title":"General","keys":["name","type"]},{"title":"Depends","keys":["depends"]},{"title":"Impact","keys":["impact"]}],"properties":{"name":{"type":"string"},"type":{"type":"string"},"depends":{"type":"array","items":{"type":"string"},"reorderable":true},"impact":{"type":"array","items":{"type":"string"},"reorderable":true}}}},{"id":"mixin.crud","_id":"mixin.crud","crecord_name":"crud","schema":{"type":"object","categories":[{"title":"General","keys":["hideEdit","hideRemove","hideCreate"]},{"title":"Form","keys":["form","formoptions"]}],"metadata":{"description":"Add CRUD operations management on widgets"},"properties":{"hideEdit":{"type":"boolean","role":"boolean","default":false},"hideCreate":{"type":"boolean","role":"boolean","default":false},"hideRemove":{"type":"boolean","role":"boolean","default":false},"form":{"type":"string","title":"Form class","description":"Form class to use for creation/edition","default":"modelform"},"formoptions":{"type":"object","title":"Form options","description":"Extra options for form class","role":"simpledict"}}}},{"id":"mixin.customfilterlist","_id":"mixin.customfilterlist","crecord_name":"customfilterlist","schema":{"type":"object","categories":[{"title":"General","keys":["default_filter","can_mix_filters"]},{"title":"Filters","keys":["filters"]}],"metadata":{"description":"Add a list of filters to manage displayed results"},"properties":{"filters":{"type":"array","items":{"type":"object","objectDict":{"title":"untitled filter","cfilter":""},"role":"cfilterwithproperties"}},"user_filters":{"type":"array","isUserPreference":true,"items":{"type":"object","objectDict":{"title":"untitled filter","cfilter":""},"role":"cfilterwithproperties"}},"default_filter":{"type":"string","role":"cfilter"},"additional_filter":{"type":"string","role":"cfilter"},"selected_filter":{"isUserPreference":true,"type":"object"},"can_mix_filters":{"type":"boolean","default":false}}}},{"id":"mixin.draggablecolumns","_id":"mixin.draggablecolumns","crecord_name":"draggablecolumns","schema":{"type":"object","metadata":{"icon":"fa fa-hand-rock-o","description":"Draggable columns for list widgets"},"properties":{"user_displayed_columns":{"type":"array","isUserPreference":true,"items":{"type":"string"},"reorderable":true}}}},{"id":"mixin.gridlayout","_id":"mixin.gridlayout","crecord_name":"gridlayout","schema":{"type":"object","metadata":{"description":"A layout for containers to display childs in a responsive grid"},"categories":[{"title":"General","keys":["columnXS","columnMD","columnLG","offset","forcelegacy","hiddenXS","hiddenMD","hiddenLG"]}],"properties":{"forcelegacy":{"type":"boolean","default":true,"description":"<br/><i class=\"fa fa-warning\"></i> BEWARE, force children widgets to use parent values (position reset) values if checked","title":"force legacy position"},"columnXS":{"type":"integer","max":12,"tick":1,"default":12,"role":"slider","description":"Width of the widget in columns unit  for small definition screens"},"columnMD":{"type":"integer","max":12,"tick":1,"default":6,"role":"slider","description":"Width of the widget in columns unit for medium definition screens"},"columnLG":{"type":"integer","max":12,"tick":1,"default":3,"role":"slider","description":"Width of the widget in columns unit for large definition screens"},"offset":{"type":"integer","max":12,"tick":1,"role":"slider","description":"Columns number to skip before placing the widget"},"hiddenXS":{"type":"boolean","description":"Hidden on small resolutions"},"hiddenMD":{"type":"boolean","description":"Hidden on medium resolutions"},"hiddenLG":{"type":"boolean","description":"Hidden on large resolutions"}}}},{"id":"mixin.horizontallayout","_id":"mixin.horizontallayout","crecord_name":"horizontallayout","schema":{"type":"object","metadata":{"description":"A layout for containers to display childs horizontally"},"categories":[{"title":"General","keys":["cellCssClass"]}],"properties":{"cellCssClass":{"type":"string","enum":["","halfwidth","col-xs-15","col-sm-15","col-md-15","col-lg-15","col-xs-13","col-sm-13","col-md-13","col-lg-13"],"role":"simplelist"}}}},{"id":"mixin.listlinedetail","_id":"mixin.listlinedetail","crecord_name":"listlinedetail","schema":{"type":"object","categories":[{"title":"General","keys":["template"]}],"properties":{"template":{"type":"string","role":"textarea","required":true}}}},{"id":"mixin.pagination","_id":"mixin.pagination","crecord_name":"pagination","schema":{"type":"object","categories":[{"title":"General","keys":["customItemsPerPage","defaultItemsPerPage"]}],"metadata":{"description":"Allow to iterate listed items by pages on widgets"},"properties":{"itemsPerPage":{"isUserPreference":true,"type":"integer","required":true,"default":5},"defaultItemsPerPage":{"type":"integer","description":"The number of elements to display on a page","required":true,"default":5},"customItemsPerPage":{"type":"array","title":"Custom items per page","description":"List of number allowing user to select custom items per page"}}}},{"id":"mixin.periodicrefresh","_id":"mixin.periodicrefresh","crecord_name":"periodicrefresh","schema":{"type":"object","categories":[{"title":"General","keys":["refreshInterval"]}],"metadata":{"description":"Periodically refresh a widget"},"properties":{"refreshInterval":{"type":"integer","description":"Refresh interval, in seconds","default":180}}}},{"id":"mixin.responsivelist","_id":"mixin.responsivelist","crecord_name":"responsivelist","schema":{"type":"object","categories":[{"title":"General","keys":["stackableColumnsPriority"]}],"properties":{"stackableColumnsPriority":{"reorderable":true,"description":"Sorted list of columns to stack when there is not enough space to display every shown column","type":"array"}}}},{"id":"mixin.sortablearray","_id":"mixin.sortablearray","crecord_name":"sortablearray","schema":{"type":"object","categories":[{"title":"General","keys":[]}],"properties":{"user_sortedAttribute":{"isUserPreference":true,"type":"string"}}}},{"id":"widget.canvas","_id":"widget.canvas","crecord_name":"canvas","schema":{"type":"object","metadata":{"classes":["system"]},"properties":{"title":{"type":"string"},"xtype":{"type":"string"},"items":{"type":"array","items":{"type":"object"},"relationship":"hasMany","model":"widgetwrapper"}}}},{"id":"widget.containerwidget.widgetcontainer","_id":"widget.containerwidget.widgetcontainer","crecord_name":"widgetcontainer","schema":{"type":"object","metadata":{"icon":"align-justify","classes":["system","container"]},"categories":[{"title":"General","keys":["title","widgetslotTemplate"]},{"title":"Mixins","keys":["mixins"]}],"properties":{"xtype":{"type":"string"},"title":{"type":"string"},"widgetslotTemplate":{"type":"string","enum":["widgetslot-default","widgetslot-grey","widgetslot-light"],"role":"simplelist"},"mixins":{"type":"array","role":"mixins","items":{"type":"string"},"reorderable":true},"items":{"relationship":"hasMany","model":"widgetwrapper"}}}},{"id":"widget.context","_id":"widget.context","crecord_name":"context","schema":{"type":"object","metadata":{"icon":"fa fa-bar-chart"},"categories":[{"title":"General","keys":["name","type","depends","impact"]}],"properties":{"name":{"type":"string"},"type":{"type":"string"},"depends":{"type":"array","items":{"type":"string"},"reorderable":true},"impact":{"type":"array","items":{"type":"string"},"reorderable":true}}}},{"id":"widget.crudcontext","_id":"widget.crudcontext","crecord_name":"crudcontext","schema":{"type":"object","metadata":{"icon":"fa fa-bar-chart"},"categories":[{"title":"General","keys":["name","default_sort_column"]},{"title":"Columns","keys":["columns"]},{"title":"Info popup","keys":["popup"]},{"title":"Mixins","keys":["mixins"]}],"properties":{"name":{"type":"string"},"default_sort_column":{"type":"object","role":"sortable"},"user_filters":{"type":"boolean","isUserPreference":true},"itemsPerPage":{"type":"integer","isUserPreference":true},"columns":{"type":"array","items":{"type":"string"},"reorderable":true},"popup":{"type":"array","items":{"type":"object","role":"pair"}}}}},{"id":"widget.euewi","_id":"widget.euewi","crecord_name":"euewi","schema":{"type":"object","metadata":{"classes":["system"],"icon":"list-alt"},"categories":[{"title":"General","keys":["title","refreshInterval","listed_crecord_type","itemsPerPage","default_column_sort","selection_toolbar","actions_toolbar","default_filter"]},{"title":"Columns","keys":["displayed_columns","item_actions","record_template","display_record_field"]},{"title":"Filters","keys":["filters"]},{"title":"Rendering","keys":["refreshableWidget","maximized_column_index","cloaking","contentTruncatedLength","step_template"]},{"title":"Mixins","keys":["mixins"]}],"properties":{"listed_crecord_type":{"type":"string","enum":["event"],"default":"event","role":"simplelist"},"refreshableWidget":{"type":"boolean","default":true},"item_actions":{"type":"array","items":{"type":"string"},"role":"templateselector","templateClass":"action","default":["actionbutton-ack","actionbutton-cancel","actionbutton-incident","actionbutton-ticketnumber","actionbutton-info","actionbutton-changestate"]},"default_column_sort":{"type":"object","role":"sortable","default_value":"timestamp","default":"timestamp"},"record_template":{"type":"string","role":"richtext"},"display_record_field":{"type":"string"},"displayed_columns":{"isUserPreference":true,"type":"array","items":{"type":"string"},"reorderable":true,"default":["connector","component","resource","output","state","status","ack","timestamp"]},"selection_toolbar":{"type":"array","items":{"type":"string"},"role":"templateselector","templateClass":"toolbar","default":["actionbutton-ack","actionbutton-cancel"]},"actions_toolbar":{"type":"array","items":{"type":"string"},"role":"templateselector","templateClass":"toolbar","default":["actionbutton-history"]},"mixins":{"type":"array","items":{"type":"string"},"default":["Pagination","Customfilter","Arraysearch","Sortablearray","History","Ack","Infobutton","Sendevent"],"reorderable":true},"xtype":{"type":"string"},"itemsPerPage":{"type":"integer","required":true,"default":5},"contentTruncatedLength":{"type":"integer","required":true,"title":"Content truncated length","description":"The max length displayed in rich text columns","default":150},"cloaking":{"type":"boolean"},"filters":{"type":"array","items":{"type":"object","objectDict":{"title":"untitled filter","cfilter":""},"role":"cfilterwithproperties"},"default":[{"filter":"{\"$or\":[{\"$and\":[{\"ack.isAck\":{\"$eq\":true}},{\"event_type\":{\"$eq\":\"check\"}}]}]}","cfilter":"","title":"Ack"},{"filter":"{\"$or\":[{\"$and\":[{\"state\":{\"$ne\":0}},{\"event_type\":{\"$eq\":\"check\"}}]}]}","cfilter":"","title":"Alert"},{"filter":"{\"$or\":[{\"$and\":[{\"ack.isAck\":{\"$ne\":true}},{\"state\":{\"$ne\":0}},{\"event_type\":{\"$eq\":\"check\"}}]}]}","cfilter":"","title":"Alert not ack"}]},"default_filter":{"type":"string","role":"cfilter","default":"{\"$and\":[{\"$or\":[{\"type_message\":\"scenario\"}]}]}"},"maximized_column_index":{"type":"integer","title":"Maximized column index","role":"columnindexchooser","description":"The most important column of the table. This column will be stretch to the max for the table to occupy the whole allocated space."},"step_template":{"type":"string","default":"{{#each steps}}<tr class=\"subitems\"><td>{{resource}}</td><td>{{output}}</td><td>{{criticity state}}</td><td>{{partial \"renderer-status\":status}}</td><td>{{timestamp timestamp}}</td>{{/each}}"}}}},{"id":"widget.list.jobmanager","_id":"widget.list.jobmanager","crecord_name":"jobmanager","schema":{"type":"object","metadata":{"classes":["system"]},"categories":[{"title":"General","keys":["title","listed_crecord_type","itemsPerPage","selection_toolbar","actions_toolbar","mixins","default_filter"]},{"title":"Columns","keys":["displayed_columns","item_actions"]},{"title":"Filters","keys":["filters"]},{"title":"Rendering","keys":["cloaking"]}],"properties":{}}},{"id":"widget.list","_id":"widget.list","crecord_name":"list","schema":{"type":"object","metadata":{"icon":"glyphicon glyphicon-list-alt"},"categories":[{"title":"General","keys":["title","listed_crecord_type","default_column_sort","useRenderers"]},{"title":"Columns","keys":["displayed_columns"]},{"title":"Mixins","keys":["mixins"]}],"properties":{"listed_crecord_type":{"type":"string","enum":["action","account","alarm","consolidation","ctxmetric","curve","defaultrule","derogation","event","eventlog","filter","filter_rule","group","job","linklist","profile","rangecolor","right","role","rule","selector","serie","serie2","statsfilter","slacrit","topology","user","derogation","group","eventlog","context","ctxmetric","linklist","userview","widgetpreferences","trap","reason","logauthor"],"default":"group","role":"simplelist"},"default_column_sort":{"type":"object","role":"sortable"},"displayed_columns":{"type":"array","items":{"type":"string"},"reorderable":true},"user_displayed_columns":{"isUserPreference":true,"type":"array","items":{"type":"string"},"reorderable":true},"xtype":{"type":"string"},"contentTruncatedLength":{"type":"integer","required":true,"title":"Content truncated length","description":"The max length displayed in rich text columns","default":150},"columnsOrder":{"type":"array"},"useRenderers":{"type":"boolean","description":"Whether the renderer system must be used on the list. The renderer system makes the list takes more time to render, but with a more understandable content.","default":true}}}},{"id":"widget.text","_id":"widget.text","crecord_name":"text","schema":{"type":"object","metadata":{"icon":"glyphicon glyphicon-file"},"categories":[{"title":"General","keys":["title","html"]},{"title":"Time Window","keys":["time_window","time_window_offset"]},{"title":"Series","keys":["series"]},{"title":"Metrics","keys":["metrics"]},{"title":"Events","keys":["events"]},{"title":"Mixins","keys":["mixins"]}],"properties":{"title":{"type":"string","title":"Widget title"},"html":{"title":"Template","description":"Variables: <ul><li>Event: <code>{{event.label.*}}</code></li><li>Serie: <code>{{serie.name}}</code></li><li>Metric: <code>{{metric.component[.resource].name}}</code></li><li>Interval: <code>{{from}} {{to}}</code></li></ul>","type":"string","role":"richtext"},"time_window":{"type":"number","role":"duration","default":86400,"title":"Time Window for data fetching"},"time_window_offset":{"type":"number","role":"duration","default":0,"title":"Time window offset from now"},"series":{"description":"Series to provide to template","title":"Choose series","type":"array","role":"arrayclassifiedcrecordselector","model":"serie","crecordtype":"serie","multiselect":true},"metrics":{"description":"Metrics to provide to template","title":"Choose metrics","type":"array","items":{"type":"string"},"role":"cmetric"},"events":{"type":"array","items":{"type":"object"},"role":"eventselector","labelled":true,"description":"Labelled events to provide to template"},"mixins":{"type":"array","role":"mixins","items":{"type":"string"},"reorderable":true}}}},{"id":"widget.uimaintabcollection","_id":"widget.uimaintabcollection","crecord_name":"uimaintabcollection","schema":{"type":"object","metadata":{"classes":["system"],"icon":"cog"},"categories":[{"title":"General","keys":["tabs"]}],"properties":{"tabs":{"type":"array","items":{"type":"object","role":"labelandviewid"},"reorderable":true}}}},{"id":"widget.wgraph.topology","_id":"widget.wgraph.topology","crecord_name":"topology","schema":{"type":"object","metadata":{"icon":"fa fa-sitemap","classes":[]},"categories":[{"title":"General","keys":["title","graph_id","layout"]},{"title":"Options","keys":["width","height"]},{"title":"Mixins","keys":["mixins"]}],"properties":{"crecord_type":{"type":"string","required":true,"default":"topology"},"graph_type":{"default":"topology"},"width":{"type":"integer","required":false,"default":0},"height":{"type":"integer","required":false,"default":0}}}}];

for (var i = 0, l = window.bricks['uibase'].schemasArray.length; i < l; i++) {
    var schema = window.bricks['uibase'].schemasArray[i];
    schema.id = schema._id;
    window.schemasToLoad.push(schema);
}
