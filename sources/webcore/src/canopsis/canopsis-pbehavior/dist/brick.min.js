Ember.Application.initializer({name:"CcPbehaviorAdapter",after:"ApplicationAdapter",initialize:function(e,i){var t=e.lookupFactory("adapter:application"),r=(Ember.get,Ember.set,Ember.isNone,t.extend({deleteRecord:function(e,i,t){var r="/api/v2/pbehavior/"+t;return this.ajax(r,"DELETE")},findQuery:function(e,i){var t="/api/v2/pbehavior_byeid/"+i;return this.ajax(t,"GET")}}));i.register("adapter:ccpbehavior",r)}}),Ember.Application.initializer({name:"PbehaviorAdapter",after:["VeventAdapter","ModelsolveUtils"],initialize:function(e,i){var t=e.lookupFactory("adapter:vevent"),r=e.lookupFactory("utility:modelsolve"),n=(Ember.get,Ember.set,Ember.isNone),a=t.extend({buildURL:function(e,i,t){var r="/pbehavior";return n(i)||(r+="/"+i),r},findCalendarPBehavior:function(e,i){return console.log("display query findAll",i),new Ember.RSVP.Promise(function(e,t){var n=r.gen_resolve(e),a=r.gen_reject(t);$.get("/pbehavior/calendar",i).then(n,a)})},deleteRecord:function(e,i,t){var r="/api/v2/pbehavior/"+t;return this.ajax(r,"DELETE")},findQuery:function(e,i,t){var r="/api/v2/pbehavior_byeid/"+t;return this.ajax(r,"GET")}});i.register("adapter:pbehavior",a)}}),Ember.Application.initializer({name:"component-periodicbehaviormanager",after:"CrudMixin",initialize:function(e,i){var t=e.lookupFactory("mixin:crud"),r=Ember.get,n=Ember.set;__=Ember.String.loc;var a=Ember.Component.extend(Ember.Evented,t),o=a.extend({init:function(){n(this,"mixinOptions",{crud:{form:"modelform"}}),this._super.apply(this,arguments);var e=DS.Store.create({container:r(this,"container")});n(this,"widgetDataStore",e),this.refreshContent(),this.on("refresh",this.refreshContent)},refreshContent:function(){console.group("Fetching periodic behaviors"),console.log("context:",r(this,"contextId"));var e=r(this,"widgetDataStore"),i=this;e.findQuery("pbehavior",{entity_ids:r(this,"contextId")}).then(function(e){n(i,"behaviors",r(e,"content")),console.log("behaviors:",r(i,"behaviors"))}),console.groupEnd()},onRecordReady:function(e){this._super.apply(this,arguments);var i=r(this,"contextId");n(e,"source",i)},tableColumns:[{name:"dtstart",title:__("From")},{name:"dtend",title:__("To")},{name:"rrule",title:__("Recursion")},{name:"duration",title:__("Duration")},{name:"behaviors",title:__("Behaviors")},{title:new Ember.Handlebars.SafeString('<span class="glyphicon glyphicon-plus-sign"></span>'),action:"edit",actionAll:"addBehavior",style:"text-align: center;"},{title:new Ember.Handlebars.SafeString('<span class="glyphicon glyphicon-trash"></span>'),action:"remove",style:"text-align: center;"}],actions:{addBehavior:function(){this.send("add","pbehavior")}}});i.register("component:component-periodicbehaviormanager",o)}}),Ember.Application.initializer({name:"CcPbehaviorSerializer",after:"ContextSerializer",initialize:function(e,i){var t=e.lookupFactory("serializer:context"),r=t.extend({});i.register("serializer:ccpbehavior",r)}}),Ember.Application.initializer({name:"PbehaviorSerializer",after:"ContextSerializer",initialize:function(e,i){var t=e.lookupFactory("serializer:context"),r=t.extend({});i.register("serializer:pbehavior",r)}});
//# sourceMappingURL=dist/brick.map.js