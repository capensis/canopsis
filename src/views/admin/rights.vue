<template>
  <v-container>
    <div class="grid-container">
      <div class="grid">
        <div class="grid-col grid-col--fixed-left">
          <div class="grid-item grid-item--header"></div>
          <div class="grid-item">
            <p>Hello</p>
          </div>
          <div class="grid-item">
            <p>Hello</p>
          </div>
          <div class="grid-item">
            <p>Hello</p>
          </div>
          <div class="grid-item">
            <p>Hello</p>
          </div>
          <div class="grid-item">
            <p>Hello</p>
          </div>
          <div class="grid-item">
            <p>Hello</p>
          </div>
          <div class="grid-item">
            <p>Hello</p>
          </div>
          <div class="grid-item">
            <p>Hello</p>
          </div>
          <div class="grid-item">
            <p>Hello</p>
          </div>
          <div class="grid-item">
            <p>Hello</p>
          </div>
        </div>

        <div class="grid-col">
          <div class="grid-item grid-item--header">
            <p>HEAD</p>
          </div>
          <div class="grid-item">
            <p>P</p>
          </div>
          <div class="grid-item">
            <p>P</p>
          </div>
          <div class="grid-item">
            <p>P</p>
          </div>
          <div class="grid-item">
            <p>P</p>
          </div>
          <div class="grid-item">
            <p>P</p>
          </div>
          <div class="grid-item">
            <p>P</p>
          </div>
          <div class="grid-item">
            <p>P</p>
          </div>
          <div class="grid-item">
            <p>P</p>
          </div>
          <div class="grid-item">
            <p>P</p>
          </div>
          <div class="grid-item">
            <p>P</p>
          </div>
        </div>

        <div class="grid-col">
          <div class="grid-item grid-item--header">
            <p>HEAD</p>
          </div>
          <div class="grid-item">
            <p>P</p>
          </div>
          <div class="grid-item">
            <p>P</p>
          </div>
          <div class="grid-item">
            <p>P</p>
          </div>
          <div class="grid-item">
            <p>P</p>
          </div>
          <div class="grid-item">
            <p>P</p>
          </div>
          <div class="grid-item">
            <p>P</p>
          </div>
          <div class="grid-item">
            <p>P</p>
          </div>
          <div class="grid-item">
            <p>P</p>
          </div>
          <div class="grid-item">
            <p>P</p>
          </div>
          <div class="grid-item">
            <p>P</p>
          </div>
        </div>

        <div class="grid-col">
          <div class="grid-item grid-item--header">
            <p>HEAD</p>
          </div>
          <div class="grid-item">
            <p>P</p>
          </div>
          <div class="grid-item">
            <p>P</p>
          </div>
          <div class="grid-item">
            <p>P</p>
          </div>
          <div class="grid-item">
            <p>P</p>
          </div>
          <div class="grid-item">
            <p>P</p>
          </div>
          <div class="grid-item">
            <p>P</p>
          </div>
          <div class="grid-item">
            <p>P</p>
          </div>
          <div class="grid-item">
            <p>P</p>
          </div>
          <div class="grid-item">
            <p>P</p>
          </div>
          <div class="grid-item">
            <p>P</p>
          </div>
        </div>

        <div class="grid-col">
          <div class="grid-item grid-item--header">
            <p>HEAD</p>
          </div>
          <div class="grid-item">
            <p>P</p>
          </div>
          <div class="grid-item">
            <p>P</p>
          </div>
          <div class="grid-item">
            <p>P</p>
          </div>
          <div class="grid-item">
            <p>P</p>
          </div>
          <div class="grid-item">
            <p>P</p>
          </div>
          <div class="grid-item">
            <p>P</p>
          </div>
          <div class="grid-item">
            <p>P</p>
          </div>
          <div class="grid-item">
            <p>P</p>
          </div>
          <div class="grid-item">
            <p>P</p>
          </div>
          <div class="grid-item">
            <p>P</p>
          </div>
        </div>

        <div class="grid-col">
          <div class="grid-item grid-item--header">
            <p>HEAD</p>
          </div>
          <div class="grid-item">
            <p>P</p>
          </div>
          <div class="grid-item">
            <p>P</p>
          </div>
          <div class="grid-item">
            <p>P</p>
          </div>
          <div class="grid-item">
            <p>P</p>
          </div>
          <div class="grid-item">
            <p>P</p>
          </div>
          <div class="grid-item">
            <p>P</p>
          </div>
          <div class="grid-item">
            <p>P</p>
          </div>
          <div class="grid-item">
            <p>P</p>
          </div>
          <div class="grid-item">
            <p>P</p>
          </div>
          <div class="grid-item">
            <p>P</p>
          </div>
        </div>

        <div class="grid-col">
          <div class="grid-item grid-item--header">
            <p>HEAD</p>
          </div>
          <div class="grid-item">
            <p>P</p>
          </div>
          <div class="grid-item">
            <p>P</p>
          </div>
          <div class="grid-item">
            <p>P</p>
          </div>
          <div class="grid-item">
            <p>P</p>
          </div>
          <div class="grid-item">
            <p>P</p>
          </div>
          <div class="grid-item">
            <p>P</p>
          </div>
          <div class="grid-item">
            <p>P</p>
          </div>
          <div class="grid-item">
            <p>P</p>
          </div>
          <div class="grid-item">
            <p>P</p>
          </div>
          <div class="grid-item">
            <p>P</p>
          </div>
        </div>

        <div class="grid-col">
          <div class="grid-item grid-item--header">
            <p>HEAD</p>
          </div>
          <div class="grid-item">
            <p>P</p>
          </div>
          <div class="grid-item">
            <p>P</p>
          </div>
          <div class="grid-item">
            <p>P</p>
          </div>
          <div class="grid-item">
            <p>P</p>
          </div>
          <div class="grid-item">
            <p>P</p>
          </div>
          <div class="grid-item">
            <p>P</p>
          </div>
          <div class="grid-item">
            <p>P</p>
          </div>
          <div class="grid-item">
            <p>P</p>
          </div>
          <div class="grid-item">
            <p>P</p>
          </div>
          <div class="grid-item">
            <p>P</p>
          </div>
        </div>

        <div class="grid-col">
          <div class="grid-item grid-item--header">
            <p>HEAD</p>
          </div>
          <div class="grid-item">
            <p>P</p>
          </div>
          <div class="grid-item">
            <p>P</p>
          </div>
          <div class="grid-item">
            <p>P</p>
          </div>
          <div class="grid-item">
            <p>P</p>
          </div>
          <div class="grid-item">
            <p>P</p>
          </div>
          <div class="grid-item">
            <p>P</p>
          </div>
          <div class="grid-item">
            <p>P</p>
          </div>
          <div class="grid-item">
            <p>P</p>
          </div>
          <div class="grid-item">
            <p>P</p>
          </div>
          <div class="grid-item">
            <p>P</p>
          </div>
        </div>

        <div class="grid-col">
          <div class="grid-item grid-item--header">
            <p>HEAD</p>
          </div>
          <div class="grid-item">
            <p>P</p>
          </div>
          <div class="grid-item">
            <p>P</p>
          </div>
          <div class="grid-item">
            <p>P</p>
          </div>
          <div class="grid-item">
            <p>P</p>
          </div>
          <div class="grid-item">
            <p>P</p>
          </div>
          <div class="grid-item">
            <p>P</p>
          </div>
          <div class="grid-item">
            <p>P</p>
          </div>
          <div class="grid-item">
            <p>P</p>
          </div>
          <div class="grid-item">
            <p>P</p>
          </div>
          <div class="grid-item">
            <p>P</p>
          </div>
        </div>

        <div class="grid-col">
          <div class="grid-item grid-item--header">
            <p>HEAD</p>
          </div>
          <div class="grid-item">
            <p>P</p>
          </div>
          <div class="grid-item">
            <p>P</p>
          </div>
          <div class="grid-item">
            <p>P</p>
          </div>
          <div class="grid-item">
            <p>P</p>
          </div>
          <div class="grid-item">
            <p>P</p>
          </div>
          <div class="grid-item">
            <p>P</p>
          </div>
          <div class="grid-item">
            <p>P</p>
          </div>
          <div class="grid-item">
            <p>P</p>
          </div>
          <div class="grid-item">
            <p>P</p>
          </div>
          <div class="grid-item">
            <p>P</p>
          </div>
        </div>
      </div>
    </div>
  </v-container>
</template>

<script>
import entitiesActionMixin from '@/mixins/entities/action';

export default {
  mixins: [entitiesActionMixin],
  computed: {
    groupedActions() {
      return this.actions.reduce((acc, action) => {
        if (action.id.startsWith('view') || action.id.startsWith('userview')) {
          acc.view.push(action);
        } else if (action.id.startsWith('models')) {
          acc.technical.push(action);
        } else {
          acc.business.push(action);
        }

        return acc;
      }, { business: [], view: [], technical: [] });
    },
  },
  mounted() {
    this.fetchActionsList({
      params: { limit: 10000 },
    });
  },
};
</script>

<style lang="scss" scoped>
  .grid-container {
    display: grid; /* This is a (hacky) way to make the .grid element size to fit its content */
    overflow: auto;
    width: 100%;
    max-height: 700px;
  }
  .grid {
    display: flex;
    flex-wrap: nowrap;
  }
  .grid-col {
    width: 150px;
    min-width: 150px;
  }

  .grid-item--header {
    height: 100px;
    min-height: 100px;
    position: sticky;
    position: -webkit-sticky;
    background: white;
    top: 0;
  }

  .grid-col--fixed-left {
    position: sticky;
    left: 0;
    z-index: 2;
    background: white;
  }
  .grid-col--fixed-right {
    position: sticky;
    right: 0;
    z-index: 2;
    background: white;
  }

  .grid-item {
    height: 50px;
    border: 1px solid gray;
  }

</style>
